<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Xiang Yu&#39;s Blog</title>
  
  <subtitle>Hello World, Hello Programming!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://kisky3.github.io/"/>
  <updated>2020-08-09T15:27:29.425Z</updated>
  <id>https://kisky3.github.io/</id>
  
  <author>
    <name>Xiang Yu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Smplify+AppSync+Cognit</title>
    <link href="https://kisky3.github.io/2020/08/10/Smplify-AppSync-Cognit/"/>
    <id>https://kisky3.github.io/2020/08/10/Smplify-AppSync-Cognit/</id>
    <published>2020-08-09T15:27:29.000Z</published>
    <updated>2020-08-09T15:27:29.425Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>aws</title>
    <link href="https://kisky3.github.io/2020/08/10/aws/"/>
    <id>https://kisky3.github.io/2020/08/10/aws/</id>
    <published>2020-08-09T15:26:50.000Z</published>
    <updated>2020-08-09T15:26:50.933Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>pr_bot</title>
    <link href="https://kisky3.github.io/2020/08/10/pr-bot/"/>
    <id>https://kisky3.github.io/2020/08/10/pr-bot/</id>
    <published>2020-08-09T15:26:11.000Z</published>
    <updated>2020-08-09T15:26:11.967Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mail_bot</title>
    <link href="https://kisky3.github.io/2020/08/10/mail-bot/"/>
    <id>https://kisky3.github.io/2020/08/10/mail-bot/</id>
    <published>2020-08-09T15:25:40.000Z</published>
    <updated>2020-08-09T15:25:40.131Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hamiltonï¼ˆmusical 2020ï¼‰</title>
    <link href="https://kisky3.github.io/2020/05/03/Hamilton/"/>
    <id>https://kisky3.github.io/2020/05/03/Hamilton/</id>
    <published>2020-05-03T14:45:37.000Z</published>
    <updated>2020-08-09T14:55:01.429Z</updated>
    
    <content type="html"><![CDATA[<p> æ±‰å¯†å°”é¡¿ Hamiltonï¼ˆ2020ï¼‰</p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; æ±‰å¯†å°”é¡¿ Hamiltonï¼ˆ2020ï¼‰&lt;/p&gt;
    
    </summary>
    
      <category term="About Me" scheme="https://kisky3.github.io/categories/About-Me/"/>
    
    
      <category term="musical" scheme="https://kisky3.github.io/tags/musical/"/>
    
      <category term="Hamilton" scheme="https://kisky3.github.io/tags/Hamilton/"/>
    
  </entry>
  
  <entry>
    <title>Inside The Living Body</title>
    <link href="https://kisky3.github.io/2020/04/25/Recently/"/>
    <id>https://kisky3.github.io/2020/04/25/Recently/</id>
    <published>2020-04-25T09:52:51.000Z</published>
    <updated>2020-07-23T11:27:31.281Z</updated>
    
    <content type="html"><![CDATA[<p>äººä½“å†…æ—…è¡Œ</p><a id="more"></a><p>æœ€è¿‘å› ä¸ºç–«æƒ…çš„å½±å“ï¼Œå‘†åœ¨å®¶çš„æ—¶é—´ä¹Ÿå¢å¤šäº†ã€‚<br>è‚†æ— å¿Œæƒ®åœ°åˆ·äº†å¥½å¤šå‰§ã€‚</p><p>ä»Šå¤©èŠä¸€ä¸‹äººä½“å†…æ—…è¡Œè¿™éƒ¨ã€‚<br>å› ä¸ºå¼€å¤´å°±å¤ªç¡¬æ ¸äº†ï¼Œä»ä½“å†…åˆ°ä½“è¡¨ï¼Œä»å‡ºç”Ÿåˆ°æ­»äº¡ï¼Œå…¨ç¨‹é«˜èƒ½ã€‚</p><p>æƒ³æƒ³æ¯ä¸ªäººæ¥åˆ°è¿™ä¸ªä¸–ç•Œçš„ç¬¬ä¸€ç§’ï¼Œ</p><p>å¿ƒè„å¼€å§‹ç¬¬ä¸€æ¬¡çš„è·³åŠ¨ï¼Œ<br>è‚ºå¼€å§‹è‹é†’ï¼Œå¹¶æ¥ç€å¼€å§‹äº†æˆ‘ä»¬ç”Ÿå‘½ä¸­æœ€é‡è¦çš„ç¬¬ä¸€æ¬¡å‘¼å¸ï¼Œ<br>è¡€æ¶²å¼€å§‹æ¸—å…¥ç©ºæ°”ä¸­çš„æ°§æ°”ï¼Œç”±è“è‰²ç¬é—´å˜ä¸ºæµåŠ¨çš„çº¢è‰²<br>(åŸæ¥çº¢ç»†èƒåœ¨æ²¡æœ‰æ°§æ°”çš„çŠ¶æ€ä¸‹æ˜¯è“è‰²çš„)</p><img src="./1.png" style="width:400px;margin:40px 0"><img src="./2.png" style="width:400px;margin:40px 0"><p>ä¸€å£°å•¼å“­ï¼Œæˆ‘ä»¬åœ¨åœ°çƒä¸Šçš„æ—…ç¨‹æ­£å¼å¼€å§‹äº†ã€‚<br>é‚£æ—¶æˆ‘ä»¬çš„å‡ºå‚é…ç½®éƒ½æ˜¯æœ€å¥½æœ€æ–°é²œçš„ï¼Œæœ€å¥½çš„çš®è‚¤ï¼Œæœ€å¥½çš„å¬åŠ›ç³»ç»Ÿï¼Œæœ€å°‘çš„è‡ªç”±åŸºï¼ŒçœŸæ˜¯å¾ˆç¥å¥‡ã€‚</p><p>è€Œä¸”ä¼´éšç€ç»†èƒæ›´æ–°æ¢ä»£ï¼Œæˆ‘ä»¬çš„å¤´éª¨ä¸¤å¹´æ›´æ–°å®Œæ¯•ä¸€æ¬¡ï¼Œ<br>ä¹Ÿå¯ä»¥è¯´æˆ‘ä»¬ç°åœ¨çš„è„¸å’Œä¸¤å¹´å‰å…¶å®æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„æ ·è²Œä¹Ÿä¼šéšç€æˆé•¿ä¸æ–­å˜åŒ–å§ã€‚</p><p>å¯æƒœä¼´éšç€æ—…ç¨‹ï¼Œè¡°è€æ˜¯ä¸€ä»¶ä»¤äººéš¾è¿‡å¹¶ä¸”ä¸å¯é€†çš„äº‹æƒ…ã€‚<br>è¡°è€å¹¶ä¸æ˜¯æ”¹å˜å¤–è¡¨ï¼Œé•¿å‡ºçš±çº¹ï¼Œè€Œæ˜¯å½±å“è¿™æˆ‘ä»¬ä½“å†…æ¯ä¸€ä¸ªç»†èƒçš„è¿‡ç¨‹ã€‚</p><p>å™ªéŸ³å¯¹å†…è€³æ¯›ç»†èƒçš„ä¸å¯é€†æŸä¼¤ï¼Œç´«å¤–çº¿å’Œè¾å°„å¯¹è¡¨çš®çš„ç…§å°„ï¼Œ<br>å°±è¿æˆ‘ä»¬èµ–ä»¥ç”Ÿå­˜çš„æ°§æ°”ï¼Œä¹Ÿåœ¨æˆ‘ä»¬ä½“å†…ä¸æ–­ç§¯ç´¯è‡ªç”±åŸºä½¿çº¿ç²’ä½“å¤±å»æ´»åŠ›ï¼Œå¹¶ç ´åç€æˆ‘ä»¬çš„ç»†èƒã€‚</p><img src="./3.png" style="width:400px;margin:40px 0">DNAåœ¨æˆ‘ä»¬ä¸€ç”Ÿå†…æ— æ•°æ¬¡çš„å¤åˆ¶ï¼Œäº§ç”Ÿçš„æŸè€—å’Œé”™è¯¯ä¹Ÿåœ¨ç´¯ç§¯ã€‚<p>æœ€ç»ˆè¿™äº›æŸä¼¤å’Œç§¯ç´¯åˆ°è¾¾ä¸€å®šé™åº¦çš„æ—¶å€™ï¼Œ<br>ç»†èƒå†ä¹Ÿæ— æ³•å¤åˆ¶äº†ï¼Œæˆ‘ä»¬çš„èº«ä½“å†ä¹Ÿä¸èƒ½æŠŠè¿™äº›å™¨å®˜ä¿®å¥½ã€‚<br>å°±æ˜¯æˆ‘ä»¬è¯¥ç¦»å¼€è¿™ä¸ªä¸–ç•Œçš„æ—¶å€™äº†ã€‚</p><p>æ­»äº¡,å’Œç”Ÿå­˜ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸å¯æ€è®®çš„ç”Ÿå‘½è¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªæ—¢å®šçš„ç¨‹åºã€‚<br>æ­»äº¡ä¸æ˜¯ç¬é—´çš„ï¼Œè€Œæ˜¯ç»„ç»‡å™¨å®˜é€æ¸æ–­å¼€è”ç³»çš„è¿‡ç¨‹ã€‚</p><p>å¿ƒè„æœ€åä¸€æ¬¡çš„é¦ˆèµ ï¼Œ<br>æ˜¯å¾€æˆ‘ä»¬çš„èº«ä½“é‡Œæ³¨å…¥äº†å¤§é‡çš„å†…å•¡è‚½ï¼Œæ‰€è°“äººä½“å¤©ç„¶çš„æ­¢ç—›è¯ï¼Œç”¨äºç¼“è§£æˆ‘ä»¬å¯¹æ­»äº¡çš„ç—›è‹¦ã€‚<br><img src="./4.png" style="width:400px;margin:40px 0"></p><p>10ç§’å†…ï¼Œæˆ‘ä»¬çš„è„‘ç”µæ´»åŠ¨æ€¥å‰§ä¸‹é™ï¼Œ<br>è€Œ37å°æ—¶åæˆ‘ä»¬æœ€åä¸€ä¸ªè„‘ç»†èƒå‘å‡ºæœ€åä¸€ä¸ªç¥ç»å†²åŠ¨ã€‚<br><img src="./5.png" style="width:400px;margin:40px 0"></p><p>ä»æ­¤ä½“å†…å†ä¹Ÿæ²¡æœ‰ç¥ç»ç”µæµçš„å…‰èŠ’ï¼Œä¸€åˆ‡å½’äºé»‘æš—å’Œå¯‚é™ã€‚</p><p>æ‰€æœ‰çš„æ—…è¡Œç»ˆæœ‰ç»“æŸçš„ä¸€å¤©ï¼Œ<br>What a wonderful trip it is!</p><img src="./6.png" style="width:400px;margin:40px 0"><p>é€šè¿‡è¿™éƒ¨ç‰‡å­ï¼Œæ„å¤–åœ°è·å¾—äº†ä¸€äº›æˆ‘ä»¥å‰å¯¹ç”Ÿå‘½ç–‘é—®çš„è§£ç­”ã€‚</p><p>çº¿ç²’ä½“ï¼Œç¥ç»é€’è´¨ï¼Œç”µæµç”»é¢å¯¹æˆ‘è¿™ä¸ªä»¥å‰ç”Ÿç‰©å­¦å¾—è¿˜ä¸é”™çš„äººæ¥è¯´ï¼Œè¿˜æ˜¯å€æœ‰äº²åˆ‡æ„Ÿçš„ã€‚</p><p>ç”Ÿè‚²å¯¹å¥³æ€§çš„å¥åº·æ˜¯æœ‰ç¡®ç¡®å®å®çš„æŸå®³çš„ï¼Œæ‰€æœ‰çš„æ¯äº²ä¸ºç”Ÿå‘½çš„å»¶ç»­éƒ½åšäº†å¾ˆå¤§çš„ç‰ºç‰²ï¼Œè¿™çœŸçš„å¾ˆä¼Ÿå¤§ä¹Ÿå¾ˆä¸å®¹æ˜“ã€‚</p><p>çƒŸé…’æœ€å¥½ä¸è¦ç¢°(æ‘„å…¥é…’ç²¾åä¸ºäº†è§£è¯»ä¼šå¯¼è‡´ä½“å†…ç¼ºæ°´ï¼Œè®°å¾—è¡¥æ°´ğŸ’¦)ï¼Œ<br><img src="./7.png" style="width:400px;margin:40px 0"></p><p>ç´«å¤–çº¿ï¼Œè‚¥èƒ–è¿™äº›å› ç´ æ˜¯æˆ‘ä»¬å¯ä»¥å°½é‡é¿å…çš„ï¼Œ</p><p>æ¯•ç«Ÿï¼Œè¯´é•¿ä¸é•¿è¯´çŸ­ä¸çŸ­çš„å‡ åå¹´ï¼Œ<br>ä½“å†…æ•°äº¿çš„ç»†èƒåœ¨ä¸çœ ä¸ä¼‘å­œå­œä¸å€¦åœ°ä¸ºä½ çš„èº«ä½“å·¥ä½œ,<br>æˆ‘ä»¬ç†åº”å¯¹å®ƒä»¬å¥½ç‚¹ã€‚(æœ€è¿‘å°‘è¿åŠ¨å¤šç†¬å¤œçš„æˆ‘åçœä¸­)</p><p>æœ€åæ„Ÿè°¢æˆ‘ä½“å†…æ‰€æœ‰çš„ç»†èƒä»¬ï¼Œå…¶å®æˆ‘çœŸè§‰å¾—æŒºå¯¹ä¸ä½ä½ ä»¬çš„,<br>å› ä¸ºæˆ‘å¥½åƒéƒ½æ²¡æœ‰ä¸ºä½ ä»¬åšè¿‡ä»€ä¹ˆã€‚</p><p>ç”Ÿæ´»è¿˜æ˜¯è¦ç»§ç»­çš„ï¼Œå¯èƒ½è¿˜éœ€è¦ä½ ä»¬å’Œæˆ‘ä¸€èµ·åŠªåŠ›ä¸ªå‡ åå¹´ï¼Œ<br>ä»Šå¾Œã¨ã‚‚ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€œ</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;äººä½“å†…æ—…è¡Œ&lt;/p&gt;
    
    </summary>
    
      <category term="About Me" scheme="https://kisky3.github.io/categories/About-Me/"/>
    
    
      <category term="Documentary film" scheme="https://kisky3.github.io/tags/Documentary-film/"/>
    
      <category term="Humanbeing" scheme="https://kisky3.github.io/tags/Humanbeing/"/>
    
      <category term="Body" scheme="https://kisky3.github.io/tags/Body/"/>
    
  </entry>
  
  <entry>
    <title>AWS Amplify with Vue.js</title>
    <link href="https://kisky3.github.io/2020/04/21/AboutAWSAmplify/"/>
    <id>https://kisky3.github.io/2020/04/21/AboutAWSAmplify/</id>
    <published>2020-04-21T14:43:14.000Z</published>
    <updated>2020-07-18T15:22:19.297Z</updated>
    
    <content type="html"><![CDATA[<p>AWS Amplify æ¡†æ¶å’ŒVue.js</p><a id="more"></a><h3 id="Amplifyæ¡†æ¶æ˜¯ä»€ä¹ˆ"><a href="#Amplifyæ¡†æ¶æ˜¯ä»€ä¹ˆ" class="headerlink" title="Amplifyæ¡†æ¶æ˜¯ä»€ä¹ˆ"></a>Amplifyæ¡†æ¶æ˜¯ä»€ä¹ˆ</h3><p>amplify æ˜¯awså‡ ä¸ªæœˆå‰å¼€å‘çš„ä¸€æ¬¾æ”¯æŒwebå’Œmobile çš„æ— æœåŠ¡æ¡†æ¶ï¼Œå…·å¤‡èº«ä»½éªŒè¯ï¼Œåˆ†æï¼ŒAPIï¼ŒGraphQL, æ•°æ®åº“ï¼Œæ¨é€ï¼Œæœºå™¨å­¦ä¹ ç­‰å¾ˆå¤šå¼ºå¤§åŠŸèƒ½ï¼Œå¯ä»¥ç†è§£ä¸ºgoogle firebaseçš„åŠ å¼ºç‰ˆã€‚</p><hr><h3 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install vue</span><br><span class="line">$ vue create amplify-sample</span><br></pre></td></tr></table></figure><p>Vue Project</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vue CLI v3.11.0</span><br><span class="line">? Please pick a preset: </span><br><span class="line">  default (babel, eslint) </span><br><span class="line">â¯ Manually select features</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed for your project: </span><br><span class="line"> â—‰ Babel</span><br><span class="line"> â—¯ TypeScript</span><br><span class="line"> â—¯ Progressive Web App (PWA) Support</span><br><span class="line"> â—‰ Router</span><br><span class="line">â¯â—‰ Vuex</span><br><span class="line"> â—¯ CSS Pre-processors</span><br><span class="line"> â—‰ Linter / Formatter</span><br><span class="line"> â—¯ Unit Testing</span><br><span class="line"> â—¯ E2E Testing</span><br></pre></td></tr></table></figure><h3 id="Vueå¯åŠ¨"><a href="#Vueå¯åŠ¨" class="headerlink" title="Vueå¯åŠ¨"></a>Vueå¯åŠ¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd amplify-sample/</span><br><span class="line">$ npm run serve</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨localhost:8080çœ‹åˆ°Vueçš„ä¸»é¡µé¢äº†ã€‚<br><img src="./1.png" style="width: 500px"></p><hr><h3 id="å¯¼å…¥Amplify"><a href="#å¯¼å…¥Amplify" class="headerlink" title="å¯¼å…¥Amplify"></a>å¯¼å…¥Amplify</h3><p>ä½¿ç”¨npmå¯¼å…¥Amplify</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm i aws-amplify</span><br><span class="line">$ npm i aws-amplify-vue</span><br></pre></td></tr></table></figure><p>è®¾ç½®amplifyæ‰€ä½¿ç”¨çš„AWS</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ amplify configure</span><br></pre></td></tr></table></figure><p>sign inä½ çš„AWSä¹‹åå›åˆ°å‘½ä»¤è¡Œç•Œé¢ï¼ŒæŒ‰ä¸‹enter</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Specify the AWS Region</span><br><span class="line">? region:  us-east-1</span><br></pre></td></tr></table></figure><p>é€‰æ‹©ä½ æ‰€åœ¨åŒºåŸŸï¼Œå¹¶ä¸”è®¾ç½®å¥½ä½ çš„ç”¨æˆ·å<br><img src="./2.png" style="width: 500px"></p><img src="./3.png" style="width: 500px"><p>é¦–å…ˆå…ˆå°†å°±ç€é€‰æ‹©æƒé™æœ€å¼ºçš„AdministratorAccesså§ï¼Œæœ‰éœ€è¦çš„è¯ä¹‹åå†æ”¹ä¹Ÿå¯ä»¥ã€‚<br>AccessKeyå’ŒSecretKeyè¦è®°å¥½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ amplify init</span><br><span class="line"></span><br><span class="line">Note: It is recommended to run this command from the root of your app directory</span><br><span class="line">? Enter a name for the project amplify-sample</span><br><span class="line">? Enter a name for the environment dev</span><br><span class="line">? Choose your default editor: Visual Studio Code</span><br><span class="line">? Choose the type of app that you&apos;re building javascript</span><br><span class="line">Please tell us about your project</span><br><span class="line">? What javascript framework are you using vue</span><br><span class="line">? Source Directory Path:  src</span><br><span class="line">? Distribution Directory Path: dist</span><br><span class="line">? Build Command:  npm run-script build</span><br><span class="line">? Start Command: npm run-script serve</span><br></pre></td></tr></table></figure><p>ä¸­é€”å¯èƒ½ä¼šå‡ºç°è®©ä½ é€‰æ‹©ç¯å¢ƒçš„é€‰é¡¹<code>? Enter a name for the environment</code><br>å¯ä»¥å…ˆè¾“å…¥dev</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? Do you want to use an AWS profile? (Y/n) Y</span><br></pre></td></tr></table></figure><hr><h3 id="è¿½åŠ è®¤è¯"><a href="#è¿½åŠ è®¤è¯" class="headerlink" title="è¿½åŠ è®¤è¯"></a>è¿½åŠ è®¤è¯</h3><p>ç»™Projectè¿½åŠ è®¤è¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ amplify add auth</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Using service: Cognito, provided by: awscloudformation</span><br><span class="line"></span><br><span class="line"> The current configured provider is Amazon Cognito. </span><br><span class="line"></span><br><span class="line"> Do you want to use the default authentication and security configuration? (Use arrow keys)</span><br><span class="line">â¯ Default configuration </span><br><span class="line">  Default configuration with Social Provider (Federation) </span><br><span class="line">  Manual configuration </span><br><span class="line">  I want to learn more.</span><br></pre></td></tr></table></figure><p>è¿™æ¬¡é¦–å…ˆå¯ä»¥é€‰æ‹©æœ€åŸºæœ¬çš„Default configurationï¼Œå¦‚æœsocial providerçš„è¯ï¼Œè¿˜å¯ä»¥ä½¿ç”¨Facebook, Google, Amazonç­‰è¿›è¡Œç™»é™†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> How do you want users to be able to sign in? </span><br><span class="line">  Username </span><br><span class="line">â¯ Email </span><br><span class="line">  Phone Number </span><br><span class="line">  Email and Phone Number </span><br><span class="line">  I want to learn more.</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Emailè¿›è¡Œç™»é™†ã€‚ä»¥åçš„è®¾å®šéƒ½æœ‰é»˜è®¤é…ç½®å°±å¥½ã€‚</p><p>å¦‚æœåªæ˜¯è¿™æ ·çš„è¯å®é™…çš„è®¤è¯è¿˜æ˜¯åšä¸äº†çš„ã€‚<br>éœ€è¦æŠŠæœ¬åœ°çš„å˜æ›´åæ˜ åˆ°æœåŠ¡å™¨ä¸Šã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ amplify push</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">âœ” Successfully pulled backend environment dev from the cloud.</span><br><span class="line"></span><br><span class="line">Current Environment: dev</span><br><span class="line"></span><br><span class="line">| Category | Resource name         | Operation | Provider plugin   |</span><br><span class="line">| -------- | --------------------- | --------- | ----------------- |</span><br><span class="line">| Auth     | amplifysample******** | Create    | awscloudformation |</span><br><span class="line">? Are you sure you want to continue? (Y/n)</span><br></pre></td></tr></table></figure><p>çœ‹ç¬¬ä¸€è¡Œçš„è¯ï¼Œé¦–å…ˆpullåˆ°è¿œç¨‹ç¯å¢ƒï¼Œç„¶åæ£€æµ‹å‡ºå·®åˆ«ã€‚<br>å°±åƒgitä¸€æ ·ï¼åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå…¶ä»–çš„æœ«ç«¯ä¹Ÿå¥½ï¼Œä»AWSçš„å‘½ä»¤è¡Œä¹Ÿèƒ½é€šè¿‡pullï¼Œ<br>æ¥è·å–å’Œè¿œç¨‹ä¸€æ‘¸ä¸€æ ·çš„ç¯å¢ƒã€‚<br>(æ¯”å¦‚è¯´å½“æœ¬åœ°ç¯å¢ƒåæ‰ä¹‹åï¼Œå¯ä»¥ç”¨è¿™ä¸ªæŒ½å›ï¼)</p><p>è¿™æ¬¡è¿½åŠ äº†æ–°çš„Authï¼Œåº”è¯¥èƒ½ååº”åˆ°æœåŠ¡å™¨ä¸Šã€‚</p><p>è¿™ä¸ªä¸Šä¼ å¯èƒ½ä¼šèŠ±ä¸€ç‚¹æ—¶é—´ï¼Œè¶åæ˜ åˆ°æœåŠ¡å™¨çš„é—´éš™ï¼Œæ¥ç¼–è¾‘ä¸€ä¸‹main.js<br>main.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import App from &apos;./App.vue&apos;</span><br><span class="line">import router from &apos;./router&apos;</span><br><span class="line">import store from &apos;./store&apos;</span><br><span class="line"></span><br><span class="line">import Amplify, * as AmplifyModules from &apos;aws-amplify&apos;</span><br><span class="line">import &#123; AmplifyPlugin &#125; from &apos;aws-amplify-vue&apos;</span><br><span class="line">import awsconfig from &apos;./aws-exports&apos;</span><br><span class="line">Amplify.configure(awsconfig)</span><br><span class="line"></span><br><span class="line">Vue.use(AmplifyPlugin, AmplifyModules)</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: h =&gt; h(App)</span><br><span class="line">&#125;).$mount(&apos;#app&apos;)</span><br></pre></td></tr></table></figure><p>ç„¶åæ¥ç€ç¼–è¾‘ router/index.js<br>router/index.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Router from &apos;vue-router&apos;</span><br><span class="line">import Home from &apos;../views/Home.vue&apos;</span><br><span class="line">import Login from &apos;../views/Login.vue&apos;</span><br><span class="line"></span><br><span class="line">import store from &apos;../store/index.js&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Amplifyèª­ã¿è¾¼ã¿</span><br><span class="line">import &#123; components, AmplifyEventBus &#125; from &apos;aws-amplify-vue&apos;</span><br><span class="line">import Amplify, * as AmplifyModules from &apos;aws-amplify&apos;</span><br><span class="line">import &#123; AmplifyPlugin &#125; from &apos;aws-amplify-vue&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line">Vue.use(AmplifyPlugin, AmplifyModules)</span><br><span class="line"></span><br><span class="line">let user;</span><br><span class="line"></span><br><span class="line">// ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</span><br><span class="line">getUser().then((user) =&gt; &#123;</span><br><span class="line">    if (user) &#123;</span><br><span class="line">        router.push(&#123;path: &apos;/&apos;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function getUser() &#123;</span><br><span class="line">    return Vue.prototype.$Amplify.Auth.currentAuthenticatedUser().then((data) =&gt; &#123;</span><br><span class="line">        if (data &amp;&amp; data.signInUserSession) &#123;</span><br><span class="line">            store.commit(&apos;setUser&apos;, data);</span><br><span class="line">            return data;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).catch(() =&gt; &#123;</span><br><span class="line">        store.commit(&apos;setUser&apos;, null);</span><br><span class="line">        return null;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ç®¡ç†</span><br><span class="line">AmplifyEventBus.$on(&apos;authState&apos;, async (state) =&gt; &#123;</span><br><span class="line">    if (state === &apos;signedOut&apos;)&#123;</span><br><span class="line">        user = null;</span><br><span class="line">        store.commit(&apos;setUser&apos;, null);</span><br><span class="line">        router.push(&#123;path: &apos;/login&apos;&#125;);</span><br><span class="line">    &#125; else if (state === &apos;signedIn&apos;) &#123;</span><br><span class="line">        user = await getUser();</span><br><span class="line">        router.push(&#123;path: &apos;/&apos;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š</span><br><span class="line">const router = new Router(&#123;</span><br><span class="line">    mode: &apos;history&apos;,</span><br><span class="line">    routes: [</span><br><span class="line">        &#123;</span><br><span class="line">            // ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸</span><br><span class="line">            path: &apos;/login&apos;,</span><br><span class="line">            name: &apos;login&apos;,</span><br><span class="line">            component: Login</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            // ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸</span><br><span class="line">            path: &apos;/&apos;,</span><br><span class="line">            name: &apos;home&apos;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; requiresAuth: true&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆè¨­å®š</span><br><span class="line">router.beforeResolve(async (to, from, next) =&gt; &#123;</span><br><span class="line">    if (to.matched.some(record =&gt; record.meta.requiresAuth)) &#123;</span><br><span class="line">        user = await getUser();</span><br><span class="line">        if (!user) &#123;</span><br><span class="line">            return next(&#123;</span><br><span class="line">                path: &apos;/login&apos;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        return next()</span><br><span class="line">    &#125;</span><br><span class="line">    return next()</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;AWS Amplify æ¡†æ¶å’ŒVue.js&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="AWS" scheme="https://kisky3.github.io/tags/AWS/"/>
    
      <category term="Amplify" scheme="https://kisky3.github.io/tags/Amplify/"/>
    
      <category term="Amplify Vue" scheme="https://kisky3.github.io/tags/Amplify-Vue/"/>
    
  </entry>
  
  <entry>
    <title>About package-lock.json</title>
    <link href="https://kisky3.github.io/2020/04/20/package-lock/"/>
    <id>https://kisky3.github.io/2020/04/20/package-lock/</id>
    <published>2020-04-20T14:26:09.000Z</published>
    <updated>2020-07-13T14:56:40.899Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºpackage-lock.json</p><a id="more"></a><p>å½“ä½ è¿›è¡Œ<code>npm install</code>çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆpackage.jsonå’Œpackage-lock.json.<br>è¿™ä¸¤ä¸ªåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ã€‚</p><hr><h1 id="ä»€ä¹ˆæ˜¯-Semantic-Versioning"><a href="#ä»€ä¹ˆæ˜¯-Semantic-Versioning" class="headerlink" title="ä»€ä¹ˆæ˜¯ Semantic Versioning"></a>ä»€ä¹ˆæ˜¯ Semantic Versioning</h1><p>Semantic Versioningå°±æ˜¯ç‰ˆæœ¬çš„è®°å½•æ ·å¼ã€‚æ¯”å¦‚åƒä¸‹é¢è¿™æ ·çš„å½¢å¼çš„ç‰ˆæœ¬è®°å½•çš„è¯å¤§å®¶å°±å¾ˆç†Ÿæ‚‰äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;2.3.2&quot;</span><br></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•å°±æ˜¯Semantic Versioningäº†ã€‚<br>X.Y.Z</p><p>X: â€Major =&gt; è¿™ä¸ªç‰ˆæœ¬å·å˜åŒ–äº†è¡¨ç¤ºæœ‰äº†ä¸€ä¸ªä¸å¯ä»¥å’Œä¸Šä¸ªç‰ˆæœ¬å…¼å®¹çš„å¤§æ›´æ”¹ã€‚<br>Y: Minor =&gt; è¿™ä¸ªç‰ˆæœ¬å·å˜åŒ–äº†è¡¨ç¤ºæœ‰äº†å¢åŠ äº†æ–°çš„åŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥å‘åå…¼å®¹ã€‚<br>Z: Patch =&gt; è¿™ä¸ªç‰ˆæœ¬å·å˜åŒ–äº†è¡¨ç¤ºä¿®å¤äº†bugï¼Œå¹¶ä¸”å¯ä»¥å‘åå…¼å®¹ã€‚</p><p>å› ä¸ºmajor versionå˜åŒ–è¡¨ç¤ºå¯èƒ½ä¼šå½±å“ä¹‹å‰ç‰ˆæœ¬çš„å…¼å®¹æ€§ï¼Œæ‰€ä»¥æ— è®ºæ˜¯æ³¢æµªç¬¦å·è¿˜æ˜¯æ’å…¥ç¬¦å·éƒ½ä¸ä¼šè‡ªåŠ¨å»ä¿®æ”¹major versionï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´ç¨‹åºcrushï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä»£ç ã€‚<br>æ ¹æ®è¿™æ ·çš„Semantic Versioningå†™æ³•æˆ‘ä»¬å°±å¯ä»¥æ›´å¥½åœ°äº†è§£åˆ°æ›´æ–°çš„ç‰ˆæœ¬æƒ…æŠ¥äº†ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯-ã€ï¼ˆ-ï¼‰"><a href="#ä»€ä¹ˆæ˜¯-ã€ï¼ˆ-ï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯(^)ã€ï¼ˆ~ï¼‰"></a>ä»€ä¹ˆæ˜¯(^)ã€ï¼ˆ~ï¼‰</h1><p>å½“æˆ‘ä»¬æŸ¥çœ‹package.jsonä¸­å·²å®‰è£…çš„åº“çš„æ—¶å€™ï¼Œä¼šå‘ç°ä»–ä»¬çš„ç‰ˆæœ¬å·ä¹‹å‰éƒ½ä¼šåŠ ä¸€ä¸ªç¬¦å·ï¼Œæœ‰çš„æ˜¯æ’å…¥ç¬¦å·ï¼ˆ^ï¼‰ï¼Œæœ‰çš„æ˜¯æ³¢æµªç¬¦å·ï¼ˆ~ï¼‰ã€‚é‚£ä¹ˆä»–ä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>ä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;bluebird&quot;: &quot;^3.3.4&quot;,</span><br><span class="line">    &quot;body-parser&quot;: &quot;~1.15.2&quot;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bluebirdçš„ç‰ˆæœ¬å·ï¼š^3.3.4</span><br><span class="line">body-parseçš„ç‰ˆæœ¬å·ï¼š~1.15.2</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä½¿ç”¨æœ€æ–°çš„Nodeè¿è¡Œ<code>npm instal --save xxx</code>ï¼Œçš„æ—¶å€™ï¼Œä»–ä¼šä¼˜å…ˆè€ƒè™‘ä½¿ç”¨æ’å…¥ç¬¦å·ï¼ˆ^ï¼‰è€Œä¸æ˜¯æ³¢æµªç¬¦å·ï¼ˆ~ï¼‰äº†ã€‚<br>è¿™ä¸¤ä¸ªç¬¦å·æœ‰ä»€ä¹ˆåˆ†åˆ«å‘¢ï¼Ÿç„¶åæˆ‘è¯•ç€æ•´ç†äº†ä¸€ä¸‹ï¼š</p><h3 id="æ³¢æµªç¬¦å·ï¼ˆ-ï¼‰ï¼š"><a href="#æ³¢æµªç¬¦å·ï¼ˆ-ï¼‰ï¼š" class="headerlink" title="æ³¢æµªç¬¦å·ï¼ˆ~ï¼‰ï¼š"></a>æ³¢æµªç¬¦å·ï¼ˆ~ï¼‰ï¼š</h3><p>ä»–ä¼šæ›´æ–°åˆ°å½“å‰minor versionï¼ˆä¹Ÿå°±æ˜¯ä¸­é—´çš„é‚£ä½æ•°å­—ï¼‰ä¸­æœ€æ–°çš„ç‰ˆæœ¬ã€‚æ”¾åˆ°æˆ‘ä»¬çš„ä¾‹å­ä¸­å°±æ˜¯ï¼šbody-parser:~1.15.2ï¼Œè¿™ä¸ªåº“ä¼šå»åŒ¹é…æ›´æ–°åˆ°1.15.xçš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœå‡ºäº†ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ä¸º1.16.0ï¼Œåˆ™ä¸ä¼šè‡ªåŠ¨å‡çº§ã€‚æ³¢æµªç¬¦å·æ˜¯æ›¾ç»npmå®‰è£…æ—¶å€™çš„é»˜è®¤ç¬¦å·ï¼Œç°åœ¨å·²ç»å˜ä¸ºäº†æ’å…¥ç¬¦å·ã€‚</p><h3 id="æ’å…¥ç¬¦å·ï¼ˆ-ï¼‰ï¼š"><a href="#æ’å…¥ç¬¦å·ï¼ˆ-ï¼‰ï¼š" class="headerlink" title="æ’å…¥ç¬¦å·ï¼ˆ^ï¼‰ï¼š"></a>æ’å…¥ç¬¦å·ï¼ˆ^ï¼‰ï¼š</h3><p>è¿™ä¸ªç¬¦å·å°±æ˜¾å¾—éå¸¸çš„çµæ´»äº†ï¼Œä»–å°†ä¼šæŠŠå½“å‰åº“çš„ç‰ˆæœ¬æ›´æ–°åˆ°å½“å‰major versionï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€ä½æ•°å­—ï¼‰ä¸­æœ€æ–°çš„ç‰ˆæœ¬ã€‚æ”¾åˆ°æˆ‘ä»¬çš„ä¾‹å­ä¸­å°±æ˜¯ï¼šbluebird:^3.3.4ï¼Œè¿™ä¸ªåº“ä¼šå»åŒ¹é…3.x.xä¸­æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ä»–ä¸ä¼šè‡ªåŠ¨æ›´æ–°åˆ°4.0.0ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~1.15.2 :=  &gt;=1.15.2 &lt;1.16.0</span><br><span class="line"></span><br><span class="line">^3.3.4 := &gt;=3.3.4 &lt;4.0.0</span><br></pre></td></tr></table></figure><h1 id="package-lock-jsonçš„ä½œç”¨"><a href="#package-lock-jsonçš„ä½œç”¨" class="headerlink" title="package-lock.jsonçš„ä½œç”¨"></a>package-lock.jsonçš„ä½œç”¨</h1><p>å…¶å®ç”¨ä¸€å¥è¯æ¥æ¦‚æ‹¬å¾ˆç®€å•ï¼Œå°±æ˜¯é”å®šå®‰è£…æ—¶çš„åŒ…çš„ç‰ˆæœ¬å·ï¼Œå¹¶ä¸”éœ€è¦ä¸Šä¼ åˆ°gitï¼Œä»¥ä¿è¯å…¶ä»–äººåœ¨npm installæ—¶å¤§å®¶çš„ä¾èµ–èƒ½ä¿è¯ä¸€è‡´ã€‚</p><p>å› ä¸ºnpmæ˜¯å¼€æºä¸–ç•Œï¼Œå„åº“åŒ…çš„ç‰ˆæœ¬è¯­ä¹‰å¯èƒ½å¹¶ä¸ç›¸åŒï¼Œæœ‰çš„åº“åŒ…å¼€å‘è€…å¹¶ä¸éµå®ˆä¸¥æ ¼è¿™ä¸€åŸåˆ™ï¼šç›¸åŒå¤§ç‰ˆæœ¬å·çš„åŒä¸€ä¸ªåº“åŒ…ï¼Œå…¶æ¥å£ç¬¦åˆå…¼å®¹è¦æ±‚ã€‚è¿™æ—¶å€™ç”¨æˆ·å°±å¾ˆå¤´ç–¼äº†ï¼šåœ¨å®Œå…¨ç›¸åŒçš„ä¸€ä¸ªnodejsçš„ä»£ç åº“ï¼Œåœ¨ä¸åŒæ—¶é—´æˆ–è€…ä¸åŒnpmä¸‹è½½æºä¹‹ä¸‹ï¼Œä¸‹åˆ°çš„å„ä¾èµ–åº“åŒ…ç‰ˆæœ¬å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œå› æ­¤å…¶ä¾èµ–åº“åŒ…è¡Œä¸ºç‰¹å¾ä¹Ÿä¸åŒæœ‰æ—¶å€™ç”šè‡³å®Œå…¨ä¸å…¼å®¹ã€‚</p><p>åŸæ¥package.jsonæ–‡ä»¶åªèƒ½é”å®šå¤§ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯ç‰ˆæœ¬å·çš„ç¬¬ä¸€ä½ï¼Œå¹¶ä¸èƒ½é”å®šåé¢çš„å°ç‰ˆæœ¬ï¼Œä½ æ¯æ¬¡npm installéƒ½æ˜¯æ‹‰å–çš„è¯¥å¤§ç‰ˆæœ¬ä¸‹çš„æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä¸ºäº†ç¨³å®šæ€§è€ƒè™‘æˆ‘ä»¬å‡ ä¹æ˜¯ä¸æ•¢éšæ„å‡çº§ä¾èµ–åŒ…çš„ï¼Œè¿™å°†å¯¼è‡´å¤šå‡ºæ¥å¾ˆå¤šå·¥ä½œé‡ï¼Œæµ‹è¯•/é€‚é…ç­‰ï¼Œæ‰€ä»¥package-lock.jsonæ–‡ä»¶å‡ºæ¥äº†ï¼Œå½“ä½ æ¯æ¬¡å®‰è£…ä¸€ä¸ªä¾èµ–çš„æ—¶å€™å°±é”å®šåœ¨ä½ å®‰è£…çš„è¿™ä¸ªç‰ˆæœ¬ã€‚</p><p>å› æ­¤npmæœ€æ–°çš„ç‰ˆæœ¬å°±å¼€å§‹æä¾›è‡ªåŠ¨ç”Ÿæˆpackage-lock.jsonåŠŸèƒ½ï¼Œä¸ºçš„æ˜¯è®©å¼€å‘è€…çŸ¥é“åªè¦ä½ ä¿å­˜äº†æºæ–‡ä»¶ï¼Œåˆ°ä¸€ä¸ªæ–°çš„æœºå™¨ä¸Šã€æˆ–è€…æ–°çš„ä¸‹è½½æºï¼Œåªè¦æŒ‰ç…§è¿™ä¸ªpackage-lock.jsonæ‰€æ ‡ç¤ºçš„å…·ä½“ç‰ˆæœ¬ä¸‹è½½ä¾èµ–åº“åŒ…ï¼Œå°±èƒ½ç¡®ä¿æ‰€æœ‰åº“åŒ…ä¸ä½ ä¸Šæ¬¡å®‰è£…çš„å®Œå…¨ä¸€æ ·ã€‚</p><p>é‚£å¦‚æœæˆ‘ä»¬å®‰è£…æ—¶çš„åŒ…æœ‰bugï¼Œåé¢éœ€è¦æ›´æ–°æ€ä¹ˆåŠï¼Ÿ</p><p>åœ¨ä»¥å‰å¯èƒ½å°±æ˜¯ç›´æ¥æ”¹package.jsoné‡Œé¢çš„ç‰ˆæœ¬ï¼Œç„¶åå†npm installäº†ï¼Œä½†æ˜¯5ç‰ˆæœ¬åå°±ä¸æ”¯æŒè¿™æ ·åšäº†ï¼Œå› ä¸ºç‰ˆæœ¬å·²ç»é”å®šåœ¨package-lock.jsoné‡Œäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½npm install <a href="mailto:xxx@x.x.x" target="_blank" rel="noopener">xxx@x.x.x</a>  è¿™æ ·å»æ›´æ–°æˆ‘ä»¬çš„ä¾èµ–ï¼Œç„¶åpackage-lock.jsonä¹Ÿèƒ½éšä¹‹æ›´æ–°ã€‚</p><p>å‡å¦‚æˆ‘å·²ç»å®‰è£…äº†jquery 2.1.4è¿™ä¸ªç‰ˆæœ¬ï¼Œä»gitæ›´æ–°äº†package.jsonå’Œpackage-lock.jsonï¼Œæˆ‘npm installèƒ½è¦†ç›–æ‰node_modulesé‡Œé¢çš„ä¾èµ–å—?</p><p>å…¶å®æˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®ï¼Œæ‰€ä»¥åšäº†æµ‹è¯•ï¼Œåœ¨ç›´æ¥æ›´æ–°package.jsonå’Œpackage-loc.jsonè¿™ä¸¤ä¸ªæ–‡ä»¶åï¼Œnpm installæ˜¯å¯ä»¥ç›´æ¥è¦†ç›–æ‰åŸå…ˆçš„ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥åœ¨åä½œå¼€å‘æ—¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶å¦‚æœæœ‰æ›´æ–°ï¼Œä½ çš„å¼€å‘ç¯å¢ƒåº”è¯¥npm installä¸€ä¸‹æ‰å¯¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºpackage-lock.json&lt;/p&gt;
    
    </summary>
    
      <category term="System Setting" scheme="https://kisky3.github.io/categories/System-Setting/"/>
    
    
      <category term="npm" scheme="https://kisky3.github.io/tags/npm/"/>
    
      <category term="package-lock" scheme="https://kisky3.github.io/tags/package-lock/"/>
    
  </entry>
  
  <entry>
    <title>Make My First Pr Animation Video</title>
    <link href="https://kisky3.github.io/2020/04/17/MakeMyFirstPrAnimationVideo/"/>
    <id>https://kisky3.github.io/2020/04/17/MakeMyFirstPrAnimationVideo/</id>
    <published>2020-04-17T10:01:37.000Z</published>
    <updated>2020-07-12T10:36:10.155Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨Adobe Pråˆ¶ä½œæˆ‘çš„ç¬¬ä¸€ä¸ªåŠ¨ç”»</p><a id="more"></a><p>æœ€è¿‘å°è¯•ä½¿ç”¨Adobe XDå’Œ Pråˆ¶ä½œäº†ä¸€ä¸ªç®€æ˜“çš„äº§å“å¼€å‘è¯´æ˜åŠ¨ç”»ã€‚</p><p>åˆ¶ä½œå‡ºæ¥çš„æ•ˆæœåƒä¸‹é¢è¿™æ ·ï¼š<br><br></p><div class="video-container"><iframe src="https://kisky3.github.io/2020/04/17/MakeMyFirstPrAnimationVideo/video.mp4" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe></div><br><h1 id="å‚è€ƒè§†é¢‘ï¼š"><a href="#å‚è€ƒè§†é¢‘ï¼š" class="headerlink" title="å‚è€ƒè§†é¢‘ï¼š"></a>å‚è€ƒè§†é¢‘ï¼š</h1><ul><li><a href="https://www.bilibili.com/video/BV15b411q7zX?from=search&seid=12054323442701734548" target="_blank" rel="noopener">Adobe XD 25æ­¥ä»é›¶åˆ°åŠ¨æ•ˆè¾“å‡º</a></li><li><a href="https://www.bilibili.com/video/BV1h7411U7BX" target="_blank" rel="noopener">10åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹premiereå‰ªè¾‘ï¼</a></li><li><a href="https://www.bilibili.com/video/BV1nW411V7Vi" target="_blank" rel="noopener">ï¼ˆå¹²è´§ï¼‰2ç§’å­¦ä¼šPRéŸ³é¢‘æ·¡å…¥æ·¡å‡º/PRå¦‚ä½•è®©éŸ³é¢‘æ·¡å…¥æ·¡å‡º</a></li><li><a href="https://www.bilibili.com/video/BV1vJ411d7vy" target="_blank" rel="noopener">ã€Præ¨¡æ¿ã€‘1450ä¸ªå…è´¹Præ¨¡æ¿ï¼Œæ‰¿åŒ…ä½ ä¸€è¾ˆå­çš„å‰ªè¾‘ï¼</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½¿ç”¨Adobe Pråˆ¶ä½œæˆ‘çš„ç¬¬ä¸€ä¸ªåŠ¨ç”»&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="Adobe Pr" scheme="https://kisky3.github.io/tags/Adobe-Pr/"/>
    
      <category term="Animation Video" scheme="https://kisky3.github.io/tags/Animation-Video/"/>
    
  </entry>
  
  <entry>
    <title>Setting Image Psth by :src=&quot;require(Var)&quot;</title>
    <link href="https://kisky3.github.io/2020/04/12/ImagePathOfVue/"/>
    <id>https://kisky3.github.io/2020/04/12/ImagePathOfVue/</id>
    <published>2020-04-12T09:42:16.000Z</published>
    <updated>2020-07-12T09:58:47.064Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨:src=â€require(Var)â€æŒ‡å®šå›¾åƒè·¯å¾„</p><a id="more"></a><p>æœ€è¿‘åœ¨å†™vueæ—¶è¢«å¡äº†ä¸€ä¸‹ã€‚</p><h1 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h1><p>Vueçš„componenté‡Œæƒ³å¼•ç”¨å›¾åƒæ–‡ä»¶ã€‚<br>é¦–å…ˆæŠŠå›¾åƒæ–‡ä»¶æ”¾åœ¨äº†assetsé‡Œï¼Œå¹¶å¦‚ä¸‹å¼•ç”¨æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">src=<span class="string">"require('@/assets/hoge.jpg')"</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¥‡æ€ªçš„æ˜¯å¹¶å–ä¸åˆ°æ–‡ä»¶ï¼Œå¹¶ä¸”æ˜¾ç¤º<code>Cannot find module &#39;@/assets/hoge.jpg</code>çš„é”™è¯¯ã€‚</p><ul><li>hoge.vue</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template lang=<span class="string">"pug"</span>&gt;</span><br><span class="line">  v-container(grid-list-lg fluid pa<span class="number">-0</span>)</span><br><span class="line">    v-layout(row wrap)</span><br><span class="line">      template(v-<span class="keyword">for</span>=<span class="string">"(pr, index) in prContents"</span>)</span><br><span class="line">        v-flex(xs12 md4 :key=<span class="string">"index"</span>)</span><br><span class="line">          v-card</span><br><span class="line">            v-img(:src=<span class="string">"require(pr.image)"</span> height=<span class="string">"300"</span>)</span><br><span class="line">            v-container(fill-height fluid pa<span class="number">-2</span>)</span><br><span class="line">              v-layout(fill-height)</span><br><span class="line">                v-flex(xs12 align-end flexbox)</span><br><span class="line">                  span(<span class="class"><span class="keyword">class</span></span>=<span class="string">"headline white--text"</span> v-text=<span class="string">"pr.title"</span>)</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'HomeConcept',</span></span><br><span class="line"><span class="regexp">  data () &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      prContent: [</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">          title: 'ã‚¿ã‚¤ãƒˆãƒ«1',</span></span><br><span class="line"><span class="regexp">          contents: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„',</span></span><br><span class="line"><span class="regexp">          image: '@/assets/hoge1.jpg'</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">       &#123;</span></span><br><span class="line"><span class="regexp">          title: 'ã‚¿ã‚¤ãƒˆãƒ«2',</span></span><br><span class="line"><span class="regexp">          contents: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„',</span></span><br><span class="line"><span class="regexp">          image: '@/assets/hoge2.jpg'</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">       &#123;</span></span><br><span class="line"><span class="regexp">          title: 'ã‚¿ã‚¤ãƒˆãƒ«3',</span></span><br><span class="line"><span class="regexp">          contents: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„',</span></span><br><span class="line"><span class="regexp">          image: '@/assets/hoge3.jpg'</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">      ]</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped  lang=<span class="string">"stylus"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure><hr><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>requireå†…ï¼Œå¦‚æœå•çº¯ä½¿ç”¨æ–‡å­—åˆ—çš„è¯ï¼Œ@æ˜¯æ— æ³•è¯†åˆ«çš„ï¼Œæ‰€ä»¥require()è¦åœ¨dataå¯¹è±¡é‡Œå®è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    prContents: [</span><br><span class="line">      &#123;</span><br><span class="line">        title: <span class="string">"ã‚¿ã‚¤ãƒˆãƒ«1"</span>,</span><br><span class="line">        contents: <span class="string">"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„"</span>,</span><br><span class="line">        image: <span class="built_in">require</span>(<span class="string">"@/images/hoge.jpg"</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åçš„hoge.vue</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template lang=<span class="string">"pug"</span>&gt;</span><br><span class="line">  v-container(grid-list-lg fluid pa<span class="number">-0</span>)</span><br><span class="line">    v-layout(row wrap)</span><br><span class="line">      template(v-<span class="keyword">for</span>=<span class="string">"(pr, index) in prContents"</span>)</span><br><span class="line">        v-flex(xs12 md4 :key=<span class="string">"index"</span>)</span><br><span class="line">          v-card</span><br><span class="line">            v-img(:src=<span class="string">"pr.image"</span> height=<span class="string">"300"</span>)</span><br><span class="line">            v-container(fill-height fluid pa<span class="number">-2</span>)</span><br><span class="line">              v-layout(fill-height)</span><br><span class="line">                v-flex(xs12 align-end flexbox)</span><br><span class="line">                  span(<span class="class"><span class="keyword">class</span></span>=<span class="string">"headline white--text"</span> v-text=<span class="string">"pr.title"</span>)</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'HomeConcept',</span></span><br><span class="line"><span class="regexp">  data () &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      prContents: [</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">          title: 'ã‚¿ã‚¤ãƒˆãƒ«1',</span></span><br><span class="line"><span class="regexp">          contents: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„',</span></span><br><span class="line"><span class="regexp">          image: require('@/assets/hoge1.jpg')</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">          title: 'ã‚¿ã‚¤ãƒˆãƒ«2',</span></span><br><span class="line"><span class="regexp">          contents: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„',</span></span><br><span class="line"><span class="regexp">          image: require('@/assets/images/3pr-medical.jpg')</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        &#123;</span></span><br><span class="line"><span class="regexp">          title: 'ã‚¿ã‚¤ãƒˆãƒ«3',</span></span><br><span class="line"><span class="regexp">          contents: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„',</span></span><br><span class="line"><span class="regexp">          image: require('@/assets/images/3pr-compassionate.jpg')</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">      ]</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped  lang=<span class="string">"stylus"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåªæ˜¯ä¸€èˆ¬çš„ä¿®æ”¹å‚æ•°æ¥å¼•ç”¨å›¾åƒçš„æƒ…å†µä¸‹ï¼Œå†™æˆä¸‹é¢è¿™æ ·å°±å¯ä»¥äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;img</span><br><span class="line">  :src=<span class="string">"require('@/assets/img/' + domainName + '.png')"</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span></span>=<span class="string">"c-logo-takaku"</span></span><br><span class="line">  alt=<span class="string">""</span></span><br><span class="line">/&gt;</span><br><span class="line">...</span><br><span class="line">data(): Data &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      domainName: <span class="string">'xxxx'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½¿ç”¨:src=â€require(Var)â€æŒ‡å®šå›¾åƒè·¯å¾„&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="Vue" scheme="https://kisky3.github.io/tags/Vue/"/>
    
      <category term=":src" scheme="https://kisky3.github.io/tags/src/"/>
    
      <category term="image path" scheme="https://kisky3.github.io/tags/image-path/"/>
    
  </entry>
  
  <entry>
    <title>Delete Amazon Cloud Front Cache(Invalidation)</title>
    <link href="https://kisky3.github.io/2020/03/18/DeleteAmazonCloudFrontCache/"/>
    <id>https://kisky3.github.io/2020/03/18/DeleteAmazonCloudFrontCache/</id>
    <published>2020-03-18T09:07:39.000Z</published>
    <updated>2020-07-12T09:30:44.470Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ é™¤Amazon Cloud Frontçš„ç¼“å­˜(Invalidation)</p><a id="more"></a><h1 id="ä»€ä¹ˆæ˜¯-Amazon-CloudFront"><a href="#ä»€ä¹ˆæ˜¯-Amazon-CloudFront" class="headerlink" title="ä»€ä¹ˆæ˜¯ Amazon CloudFront"></a>ä»€ä¹ˆæ˜¯ Amazon CloudFront</h1><p>Amazon CloudFront æ˜¯ä¸€ç§å…¨çƒå†…å®¹åˆ†å‘ç½‘ç»œæœåŠ¡ï¼Œå¯ä»¥å®‰å…¨åœ°ä»¥ä½å»¶è¿Ÿå’Œé«˜ä¼ è¾“é€Ÿåº¦å‘æµè§ˆè€…åˆ†å‘æ•°æ®ã€è§†é¢‘ã€åº”ç”¨ç¨‹åºå’Œ APIã€‚CloudFront ä¸ AWS ä¸å¤šç§ AWS äº§å“é›†æˆã€‚</p><hr><h1 id="Amazon-CloudFrontæ˜¯æ€ä¹ˆè¿ä½œçš„"><a href="#Amazon-CloudFrontæ˜¯æ€ä¹ˆè¿ä½œçš„" class="headerlink" title="Amazon CloudFrontæ˜¯æ€ä¹ˆè¿ä½œçš„"></a>Amazon CloudFrontæ˜¯æ€ä¹ˆè¿ä½œçš„</h1><p>ä¸¾ä¾‹è¯´æ˜ï¼Œå½“å®¢æˆ·ç«¯å‘èµ·å¯¹ <a href="http://www.customer.com" target="_blank" rel="noopener">www.customer.com</a> çš„è®¿é—®æ—¶ï¼Œé¦–å…ˆéœ€è¦ DNS ç³»ç»Ÿè§£æå‡ºè¯¥åŸŸåå¯¹åº”çš„ä¸»æœº IPï¼Œé€šè¿‡æœ¬åœ° ISP DNS é€’å½’æŸ¥è¯¢åˆ° customer.com çš„ DNS åŸŸåæœåŠ¡å™¨å¹¶äº†è§£åˆ°è¯¥åŸŸåæ˜¯æŒ‡å‘äº† xxx.cloudfront.net ï¼Œè¿›ä¸€æ­¥è§£æ xxx.cloudfront.net ï¼ŒCloudFront çš„ DNS åŸŸåæœåŠ¡å™¨ä¼šæ ¹æ®è¯·æ±‚æ¥æºçš„ IP ç­‰ä¿¡æ¯ï¼Œè¿”å›é€‚åˆå½“å‰è¯¥å®¢æˆ·ç«¯è®¿é—®çš„è¾¹ç¼˜èŠ‚ç‚¹çš„ä¸»æœº IP å¦‚ 1.1.1.1ï¼Œæœ€ç»ˆè¯¥å®¢æˆ·ç«¯å‘ 1.1.1.1 å‘å‡ºè¯·æ±‚ã€‚å¦‚æœè¯¥è¾¹ç¼˜èŠ‚ç‚¹å·²ç»ç¼“å­˜äº†è¯¥å®¢æˆ·ç«¯è¯·æ±‚çš„å†…å®¹ï¼ˆå›¾ç‰‡ã€è§†é¢‘ç­‰é™æ€æ–‡ä»¶ï¼‰ï¼Œåˆ™ç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå¦‚æœæœªç¼“å­˜ï¼Œåˆ™é¦–å…ˆå›æºå–å›è¯¥å†…å®¹ï¼Œå¹¶å­˜å‚¨åœ¨è¾¹ç¼˜èŠ‚ç‚¹ï¼Œä»¥ä¾¿ä¸‹æ¬¡å®¢æˆ·ç«¯å¯¹è¯¥å†…å®¹è¯·æ±‚æ—¶å¯ä»¥ç›´æ¥è¿”å›è¯¥å†…å®¹ã€‚<br><br><br><img src="./1.png" style="width:500px"></p><hr><h1 id="ä»€ä¹ˆæ˜¯Invalidation"><a href="#ä»€ä¹ˆæ˜¯Invalidation" class="headerlink" title="ä»€ä¹ˆæ˜¯Invalidation"></a>ä»€ä¹ˆæ˜¯Invalidation</h1><p>Invalidationæ˜¯ç”¨äºåˆ é™¤CloudFrontçš„è¾¹ç¼˜èŠ‚ç‚¹ä¸»æœºçš„ç¼“å­˜åŠŸèƒ½ã€‚</p><hr><h1 id="å¦‚ä½•åˆ é™¤ç¼“å­˜"><a href="#å¦‚ä½•åˆ é™¤ç¼“å­˜" class="headerlink" title="å¦‚ä½•åˆ é™¤ç¼“å­˜"></a>å¦‚ä½•åˆ é™¤ç¼“å­˜</h1><p>1.æ‰“å¼€è¯¥CloudFrontçš„æ§åˆ¶å°ã€‚<br><img src="./2.png" style="width:500px"></p><p>2.é€‰æ‹©Invalidationsï¼Œå¹¶ç‚¹å‡»ã€ŒCreate Invalidationã€æŒ‰é’®ã€‚<br><img src="./3.png" style="width:500px"></p><p>3.æŒ‡å®šä½ æ‰€æƒ³åˆ é™¤çš„å¯¹è±¡çš„ç¼“å­˜è·¯å¾„ã€‚<br>èƒ½å¤Ÿä½¿ç”¨wildcardï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³åˆ é™¤æ‰€æœ‰çš„ç¼“å­˜çš„æ—¶å€™å¯ä»¥ä½¿ç”¨wildcardï¼Œåƒä¸‹é¢è¿™æ ·è¾“å…¥<code>/*</code>å°±å¥½,ç„¶åç‚¹å‡»ã€ŒInvalidateã€æŒ‰é’®ã€‚<br><img src="./4.png" style="width:500px"></p><p>ç‚¹å‡»åå°±å¯ä»¥å‘ç°ç•Œé¢ä¸Šè¢«è¿½åŠ äº†ä¸€è¡Œï¼ŒStatusè¿™ä¸€åˆ—çš„çŠ¶æ€å˜æˆäº†<code>In Progress</code>ã€‚<br><img src="./5.png" style="width:500px"></p><p>å¦‚æœç¼“å­˜è¢«åˆ é™¤å®Œæˆï¼ŒStatuså°±ä¼šå˜æˆ<code>Completed</code>.<br><img src="./6.png" style="width:500px"></p><hr><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Invalidationåˆ é™¤åŠŸèƒ½æ˜¯æŒ‡åˆ é™¤ä½ æ‰€æŒ‡å®šçš„å¯¹è±¡çš„ç¼“å­˜ï¼Œå¹¶ä¸å½±å“ç¼“å­˜ä»¥åçš„ä¿å­˜ã€‚<br>InvalidationæŒ‡å®šåï¼Œæ‰€æ˜¾ç¤ºçš„è¡Œæ˜¯åˆ é™¤å†å²è®°å½•ï¼Œè¿™ä¸ªå†å²è®°å½•æ˜¯ä¸èƒ½è¢«åˆ é™¤çš„ã€‚<br>è¿™ä¸ªåˆ é™¤å¹¶ä¸ä¼šæ”¹å˜è¯¥å¯¹è±¡çš„ç¼“å­˜ä¿å­˜çš„è®¾å®šï¼Œå½“ç¼“å­˜é‡æ–°ç”Ÿæˆä¹‹åï¼Œè¿˜æ˜¯ä¼šè¢«é‡æ–°ä¿å­˜çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆ é™¤Amazon Cloud Frontçš„ç¼“å­˜(Invalidation)&lt;/p&gt;
    
    </summary>
    
      <category term="System Setting" scheme="https://kisky3.github.io/categories/System-Setting/"/>
    
    
      <category term="Docker" scheme="https://kisky3.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Create Json By GAS and Deploy to S3</title>
    <link href="https://kisky3.github.io/2020/03/12/createJsonByGAS/"/>
    <id>https://kisky3.github.io/2020/03/12/createJsonByGAS/</id>
    <published>2020-03-12T08:13:07.000Z</published>
    <updated>2020-07-12T09:01:22.730Z</updated>
    
    <content type="html"><![CDATA[<p>ç”¨GASé€ jsonæ•°æ®å¹¶è‡ªåŠ¨å‘å¸ƒåˆ°S3ä¸Š</p><a id="more"></a><p>æœ€è¿‘åœ¨å¼€å‘ä¸­éœ€è¦é€ ä¸€å †ç›¸ä¼¼çš„é˜¶å±‚ä¼¼çš„jsonæ•°æ®ã€‚<br>å®åœ¨ä¸æƒ³æ‰‹åŠ¨å†™ï¼Œæ‰€ä»¥ç ”ç©¶äº†ä¸€ä¸‹å¦‚ä½•ç”¨å·²ç»å­˜åœ¨çš„æ–‡æœ¬æ–‡ä»¶æ¥é€ å‡ºæ‰€éœ€è¦çš„jsonæ•°æ®ï¼Œå¹¶èƒ½å¤Ÿè‡ªåŠ¨deployåˆ°S3ä¸Šä¿å­˜èµ·æ¥ã€‚</p><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>é¦–å…ˆéœ€è¦åœ¨S3ä¸Šç”Ÿæˆä¸Šä¼ æ‰€éœ€è¦çš„user,policyå’Œä¿å­˜æ•°æ®ç”¨çš„bucketï¼Œ<br>è¿™èƒ½ä¿è¯ä½ åœ¨GASä¸­ä¸Šä¼ çš„æ—¶å€™èƒ½å¤Ÿä½¿ç”¨æ”¹userï¼Œå¹¶ä¸”è¯¥useræ‹¥æœ‰ä¸Šä¼ jsonæ•°æ®çš„æƒé™å’Œè¿æ¥åˆ°ä½ ä¿å­˜æ•°æ®ç”¨çš„bucket.</p><h4 id="1-userå’Œpolicyçš„ç”Ÿæˆï¼š"><a href="#1-userå’Œpolicyçš„ç”Ÿæˆï¼š" class="headerlink" title="1. userå’Œpolicyçš„ç”Ÿæˆï¼š"></a>1. userå’Œpolicyçš„ç”Ÿæˆï¼š</h4><p>å‚ç…§ä¹‹å‰çš„æ–‡ç« <a href="https://kisky3.github.io/2020/02/10/UseServerlessFrameworkToCreateRESTAPI/">IAMç”¨æˆ·çš„ç”Ÿæˆ</a><br>åœ¨è¿™é‡Œç»™useræ·»åŠ çš„policyè¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼Œç”Ÿæˆä¸€ä¸ªåªèƒ½ä¸Šä¼ çš„policy<br>ä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br><span class="line">    &quot;Statement&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;Sid&quot;: &quot;VisualEditor0&quot;,</span><br><span class="line">            &quot;Effect&quot;: &quot;Allow&quot;,</span><br><span class="line">            &quot;Action&quot;: &quot;s3:PutObject&quot;,</span><br><span class="line">            &quot;Resource&quot;: &quot;*&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-bucketçš„ç”Ÿæˆï¼š"><a href="#2-bucketçš„ç”Ÿæˆï¼š" class="headerlink" title="2. bucketçš„ç”Ÿæˆï¼š"></a>2. bucketçš„ç”Ÿæˆï¼š</h4><p>bucketå°±ç›´æ¥åœ¨S3æ–°å»ºå°±å¥½äº†ï¼Œä½†æ˜¯åœ¨accessæƒé™ä¸Šï¼Œæœ€å¥½æ˜¯è®¾ç½®æˆåªèƒ½å–å¾—è¿™ä¸ªbucketæ•°æ®çš„æƒé™ã€‚<br>ä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br><span class="line">    &quot;Id&quot;: &quot;Policy1454907251774&quot;,</span><br><span class="line">    &quot;Statement&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;Sid&quot;: &quot;Stmt1454907246553&quot;,</span><br><span class="line">            &quot;Effect&quot;: &quot;Allow&quot;,</span><br><span class="line">            &quot;Principal&quot;: &quot;*&quot;,</span><br><span class="line">            &quot;Action&quot;: &quot;s3:GetObject&quot;, // åªèƒ½å–å¾—æ•°æ®çš„Action</span><br><span class="line">            &quot;Resource&quot;: &quot;arn:aws:s3:::your_bucket_name/*&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¹¶åœ¨Bucket Propertyçš„åœ°æ–¹é€‰æ‹©å¹¶å¦‚ä¸‹å›¾èˆ¬è®¾ç½®Static website hosting,å¹¶ä¿å­˜<br><img src="./1.png" style="width:400px;margin:40px 0"></p><hr><h3 id="GASçš„ç”Ÿæˆ"><a href="#GASçš„ç”Ÿæˆ" class="headerlink" title="GASçš„ç”Ÿæˆ"></a>GASçš„ç”Ÿæˆ</h3><p>åœ¨å‡†å¤‡å·¥ä½œåšå¥½ä¹‹åå°±å¯ä»¥å¼€å§‹ç”Ÿæˆjsonæ•°æ®çš„å·¥ä½œäº†ã€‚<br>é¦–å…ˆæ•´ç†å‡ºä½ æ‰€éœ€è¦çš„æ–‡å­—ç‰ˆæ•°æ®ã€‚<br><img src="./2.png" style="width:400px;margin:40px 0"></p><p>ç„¶ååˆ©ç”¨GASçš„APIæ¥æ ¹æ®ä½ æ–‡å­—ç‰ˆæ•°æ®çš„sheetå’Œå†…å®¹ç”Ÿæˆä½ æ‰€éœ€è¦çš„jsonã€‚<br>å†™æ³•åŸºæœ¬å’Œæ™®é€šçš„jså·®ä¸å¤šï¼Œå–å¾—æ•°æ®åç¼–è¾‘æˆä½ æ‰€éœ€è¦çš„å½¢å¼ï¼Œ<br>ç„¶ååˆ©ç”¨ä½ åˆšåˆšç”Ÿæˆçš„S3çš„userå’Œbucketæƒ…æŠ¥æ¥è¿›è¡Œæ•°æ®çš„è‡ªåŠ¨ä¸Šä¼ ã€‚</p><p>åœ¨è¿™é‡ŒGASçš„å†…å®¹å°±ä¸è¯´æ˜äº†ï¼Œå¤§æ¦‚åœ¨æ–¹æ³•é‡Œéƒ½å†™äº†æ³¨é‡Šã€‚<br>ç”Ÿæˆçš„æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„é˜¶å±‚å¼çš„jsonï¼Œå†™çš„æ¯”è¾ƒç²—ç³™ã€‚(sorry)</p><p>GASä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* domainã«ã‚ˆã£ã¦jsonã‚’ç”Ÿæˆã—ã¦S3ä¸Šã«UPã™ã‚‹ ***********************************************************/</span></span><br><span class="line"><span class="comment">// å€‹åˆ¥ã®jsonã‚’ç”Ÿæˆã—ã¦S3ä¸Šã«UPã™ã‚‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateAndUploadJson</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> domain = <span class="string">"xxxxxxxx"</span></span><br><span class="line">  createCategoryData(domain)</span><br><span class="line">  UploadJson(domain)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨ã¦ã®jsonã‚’ä¸€æ°—ã«ç”Ÿæˆã—ã¦UPã™ã‚‹(é‡ã„ã®ã§ã€ã“ã’ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateAndUploadAll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> domain = [<span class="string">"audio-takakuureru"</span>, <span class="string">"beauty-takakuureru"</span>, <span class="string">"bicycle-takakuureru"</span>, <span class="string">"brand-takakuureru"</span>, <span class="string">"camera-takakuureru"</span>, <span class="string">"delivery-kaitori"</span>, <span class="string">"figure-takakuureru"</span>, <span class="string">"fishing-takakuureru"</span>, <span class="string">"g-takakuureru"</span>, <span class="string">"gakki-takakuureru"</span>, <span class="string">"guitar-kaitori"</span>, <span class="string">"gun-takakuureru"</span>, <span class="string">"kaden-takakuureru"</span>, <span class="string">"kagu-takakuureru"</span>, <span class="string">"kenki-takakuureru"</span>, <span class="string">"kougu-takakuureru"</span>, <span class="string">"navi-takakuureru"</span>, <span class="string">"noukigu-takakuureru"</span>, <span class="string">"pc-takakuureru"</span>, <span class="string">"sax-takakuureru"</span>, <span class="string">"sports-takakuureru"</span>, <span class="string">"syuttyou-kaitori"</span>, <span class="string">"tokei-takakuureru"</span>, <span class="string">"train-takakuureru"</span>, <span class="string">"tv-takakuureru"</span>]ã€€</span><br><span class="line">  domain.forEach(<span class="function"><span class="params">json_domain</span> =&gt;</span> &#123;</span><br><span class="line">    createCategoryData(json_domain)</span><br><span class="line">    UploadJson(json_domain)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* S3ä¸ŠUploadç”¨ ***********************************************************/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UploadJson</span>(<span class="params">domain</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> accessKey = <span class="string">'xxxxxxxxxx'</span>;</span><br><span class="line">  <span class="keyword">var</span> secretKey = <span class="string">"xxxxxxxxxx"</span></span><br><span class="line">  <span class="keyword">var</span> bucketName = <span class="string">"xxxxxxxxx"</span></span><br><span class="line">  <span class="keyword">var</span> spreadsheetId = <span class="string">'xxxxxxxxxxxx'</span></span><br><span class="line">  <span class="keyword">var</span> sheetName = domain;</span><br><span class="line">  <span class="keyword">const</span> ss = SpreadsheetApp.getActiveSpreadsheet();</span><br><span class="line">  <span class="keyword">var</span> sheet = ss.getSheetByName(sheetName);</span><br><span class="line">  <span class="comment">// ç”Ÿæˆã•ã‚ŒãŸã‚·ãƒ¼ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—</span></span><br><span class="line">  <span class="keyword">var</span> data = <span class="built_in">String</span>(sheet.getRange(<span class="string">'A:A'</span>).getValues());</span><br><span class="line">  <span class="comment">// ã‚‚ã—æ–‡å­—åˆ—ã®æœ€å¾Œã€Œ,ã€ãŒå­˜åœ¨ã™ã‚‹å ´åˆå‰Šé™¤ã™ã‚‹</span></span><br><span class="line">  <span class="keyword">while</span> (data.charAt(data.length - <span class="number">1</span>) == <span class="string">','</span>) &#123;</span><br><span class="line">    data = data.substr(<span class="number">0</span>, data.length - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  json = Utilities.newBlob(data, <span class="string">"application/json"</span>);</span><br><span class="line">  <span class="keyword">var</span> s3 = S3.getInstance(accessKey, secretKey);</span><br><span class="line">  <span class="keyword">var</span> response = s3.putObject(bucketName, sheetName + <span class="string">'.json'</span>, json, &#123;</span><br><span class="line">    logRequests: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">  Logger.log(response);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ã‚µã‚¤ãƒˆæ¯ã®ãƒ¡ã‚¤ãƒ³å‡¦ç† **********************************************/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCategoryData</span>(<span class="params">sheetName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sheet = SpreadsheetApp.getActive().getSheetByName(sheetName + <span class="string">'-data'</span>);</span><br><span class="line">  <span class="comment">//dataã¸å¤‰æ›</span></span><br><span class="line">  <span class="keyword">var</span> dataArray = convSheet(sheet);</span><br><span class="line">  <span class="comment">//dataã‚’Jsonã«å¤‰æ›ã—ã€æ–°è¦ã‚·ãƒ¼ãƒˆå‡ºåŠ›</span></span><br><span class="line">  creatNewSheet(dataArray, sheetName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//dataï¼ˆé…åˆ—ï¼‰ã¸å¤‰æ›é–¢æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convSheet</span>(<span class="params">sheet</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> categoryJson = []</span><br><span class="line">  Logger.log(sheet)</span><br><span class="line">  <span class="comment">//é ˜åŸŸ</span></span><br><span class="line">  <span class="keyword">var</span> jsonRange = sheet.getRange(<span class="number">2</span>, <span class="number">2</span>, sheet.getLastRow() - <span class="number">1</span>, sheet.getLastColumn() - <span class="number">1</span>);</span><br><span class="line">  <span class="comment">// Logger.log('jsonRange:'+JSON.stringify(jsonRange));</span></span><br><span class="line">  <span class="keyword">var</span> jsonRowValues = jsonRange.getValues();</span><br><span class="line">  <span class="comment">// Logger.log('jsonRowValues:'+JSON.stringify(jsonRowValues));</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; jsonRowValues.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> catLvlObj = categoryJson.filter(<span class="function"><span class="params">cat0</span> =&gt;</span> cat0.title === jsonRowValues[i][<span class="number">0</span>])</span><br><span class="line">    <span class="comment">// å¤§ã‚«ãƒ†ã‚´ãƒªãƒ¼ã¯å­˜åœ¨ã™ã‚‹å ´åˆã€è¢«ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯</span></span><br><span class="line">    <span class="keyword">if</span> (!!<span class="built_in">Object</span>.keys(catLvlObj).length) &#123;ã€€</span><br><span class="line">      <span class="keyword">const</span> cat1LvlObj = catLvlObj[<span class="number">0</span>].options.filter(<span class="function"><span class="params">cat1</span> =&gt;</span> cat1.title === jsonRowValues[i][<span class="number">1</span>])</span><br><span class="line">      <span class="keyword">const</span> att = CreateJson(jsonRowValues[i][<span class="number">5</span>])</span><br><span class="line">      <span class="comment">// ä¸­ã‚«ãƒ†ã‚´ãƒªãƒ¼ã¯å­˜åœ¨ã™ã‚‹å ´åˆã€è¢«ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯</span></span><br><span class="line">      ã€€ã€€</span><br><span class="line">      <span class="keyword">if</span> (!!<span class="built_in">Object</span>.keys(cat1LvlObj).length) &#123;ã€€ã€€ã€€ã€€</span><br><span class="line">        cat1LvlObj[<span class="number">0</span>].options.push(&#123;</span><br><span class="line">          id: jsonRowValues[i][<span class="number">5</span>],</span><br><span class="line">          title: jsonRowValues[i][<span class="number">2</span>],</span><br><span class="line">          category: jsonRowValues[i][<span class="number">6</span>],</span><br><span class="line">          attributes: att</span><br><span class="line">        &#125;)ã€€ã€€ã€€ã€€</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸­ã‚«ãƒ†ã‚´ãƒªãƒ¼ã¯å€¤ãŒãªã„å ´åˆã€€è¿½åŠ </span></span><br><span class="line">        catLvlObj[<span class="number">0</span>].options.push(&#123;</span><br><span class="line">          id: jsonRowValues[i][<span class="number">4</span>],</span><br><span class="line">          title: jsonRowValues[i][<span class="number">1</span>],</span><br><span class="line">          options: [&#123;</span><br><span class="line">            id: jsonRowValues[i][<span class="number">5</span>],</span><br><span class="line">            title: jsonRowValues[i][<span class="number">2</span>],</span><br><span class="line">            category: jsonRowValues[i][<span class="number">6</span>],</span><br><span class="line">            attributes: att</span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// å¤§ã‚«ãƒ†ã‚´ãƒªãƒ¼ã¯å­˜åœ¨ã—ãªã„å ´åˆæ–°è¦è¿½åŠ </span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> catNew = <span class="keyword">new</span> <span class="built_in">Object</span></span><br><span class="line">      catNew.id = jsonRowValues[i][<span class="number">3</span>]</span><br><span class="line">      catNew.title = jsonRowValues[i][<span class="number">0</span>]</span><br><span class="line">      <span class="keyword">const</span> att = CreateJson(jsonRowValues[i][<span class="number">5</span>])</span><br><span class="line">      catNew.options = [&#123;</span><br><span class="line">        id: jsonRowValues[i][<span class="number">4</span>],</span><br><span class="line">        title: jsonRowValues[i][<span class="number">1</span>],</span><br><span class="line">        options: [&#123;</span><br><span class="line">          id: jsonRowValues[i][<span class="number">5</span>],</span><br><span class="line">          title: jsonRowValues[i][<span class="number">2</span>],</span><br><span class="line">          category: jsonRowValues[i][<span class="number">6</span>],</span><br><span class="line">          attributes: att</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;]</span><br><span class="line">      categoryJson.push(catNew)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> categoryJson</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–°è¦ã‚·ãƒ¼ãƒˆä½œæˆé–¢æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">creatNewSheet</span>(<span class="params">dataArray, sheetName</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//data(é…åˆ—)ã‚ˆã‚ŠJsonã¸å¤‰æ›</span></span><br><span class="line">  <span class="keyword">var</span> json = <span class="built_in">JSON</span>.stringify(dataArray);</span><br><span class="line">  <span class="comment">//å‡ºåŠ›</span></span><br><span class="line">  <span class="keyword">var</span> newSheetName = sheetName;</span><br><span class="line">  <span class="comment">//æ–°è¦ã‚·ãƒ¼ãƒˆåˆæœŸåŒ–</span></span><br><span class="line">  <span class="keyword">var</span> newSheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(newSheetName);</span><br><span class="line">  <span class="comment">//å­˜åœ¨æœ‰ç„¡ç¢ºèª</span></span><br><span class="line">  <span class="comment">//å­˜åœ¨ã—ãªã„å ´åˆ</span></span><br><span class="line">  <span class="keyword">if</span> (!newSheet) &#123;</span><br><span class="line">    <span class="comment">//ã‚·ãƒ¼ãƒˆç”Ÿæˆ</span></span><br><span class="line">    newSheet = SpreadsheetApp.getActiveSpreadsheet();</span><br><span class="line">    newSheet.insertSheet(newSheetName);</span><br><span class="line">    <span class="comment">//ãƒ‡ãƒ¼ã‚¿å…¥åŠ›</span></span><br><span class="line">    newSheet.getRange(<span class="string">"A1"</span>).setValue(json);</span><br><span class="line">    <span class="comment">//å­˜åœ¨ã™ã‚‹å ´åˆ</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//ãƒ‡ãƒ¼ã‚¿ã®æ›¸æ›ãˆ</span></span><br><span class="line">    newSheet.getRange(<span class="string">"A1"</span>).setValue(<span class="built_in">String</span>(json));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿½åŠ é …ç›®ãƒªã‚¹ãƒˆä½œæˆé–¢æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateJson</span>(<span class="params">cat2_id</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> ss = SpreadsheetApp.getActiveSpreadsheet();</span><br><span class="line">  <span class="keyword">const</span> fieldSheet = ss.getSheetByName(<span class="string">"æŠ½å‡º_format"</span>);</span><br><span class="line">  <span class="keyword">const</span> elementSheet = ss.getSheetByName(<span class="string">"m_format_element"</span>);</span><br><span class="line">  <span class="keyword">const</span> fieldData = fieldSheet.getDataRange().getValues();</span><br><span class="line">  <span class="keyword">const</span> elementData = elementSheet.getDataRange().getValues();</span><br><span class="line">  <span class="keyword">let</span> value = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; fieldData.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> row = fieldData[i]</span><br><span class="line">    <span class="keyword">const</span> outputFlg = row[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (outputFlg === <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">let</span> inputHint = row[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">const</span> sort = row[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">const</span> categoryId = row[<span class="number">6</span>];</span><br><span class="line">    <span class="keyword">const</span> formatId = row[<span class="number">7</span>];</span><br><span class="line">    <span class="keyword">const</span> name = row[<span class="number">9</span>];</span><br><span class="line">    <span class="keyword">const</span> formatType = row[<span class="number">13</span>];</span><br><span class="line">    <span class="keyword">const</span> fieldKey = row[<span class="number">14</span>];</span><br><span class="line">    <span class="comment">// validate rule</span></span><br><span class="line">    <span class="keyword">const</span> rules = []</span><br><span class="line">    <span class="keyword">const</span> required = row[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">const</span> maxLength = row[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">if</span> (required === <span class="number">1</span>) &#123;</span><br><span class="line">      rules.push(<span class="string">"required"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (maxLength !== <span class="string">""</span>) &#123;</span><br><span class="line">      rules.push(<span class="string">`max:<span class="subst">$&#123;maxLength&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// select, radioã®options</span></span><br><span class="line">    <span class="keyword">let</span> elements;</span><br><span class="line">    <span class="keyword">if</span> (formatType === <span class="string">"select"</span> || formatType === <span class="string">"radio"</span>) &#123;</span><br><span class="line">      elements = elementData.filter(<span class="function"><span class="params">row</span> =&gt;</span> row[<span class="number">0</span>] === formatId).map(<span class="function"><span class="params">row</span> =&gt;</span> row[<span class="number">2</span>])</span><br><span class="line">      <span class="keyword">if</span> (formatType === <span class="string">"radio"</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> radioObj = []</span><br><span class="line">        elements.map(<span class="function"><span class="params">el</span> =&gt;</span> radioObj.push(&#123;</span><br><span class="line">          label: el,</span><br><span class="line">          value: el</span><br><span class="line">        &#125;))</span><br><span class="line">        elements = radioObj</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (row[<span class="number">6</span>] === <span class="built_in">Number</span>(cat2_id)) &#123;</span><br><span class="line">      value.push(&#123;</span><br><span class="line">        <span class="string">"field_name"</span>: name,</span><br><span class="line">        <span class="string">"field_key"</span>: fieldKey,</span><br><span class="line">        <span class="string">"type"</span>: formatType,</span><br><span class="line">        <span class="string">"required"</span>: <span class="string">`<span class="subst">$&#123;required === <span class="number">1</span>&#125;</span>`</span>,</span><br><span class="line">        <span class="string">"rules"</span>: <span class="string">`<span class="subst">$&#123;rules.length &gt; <span class="number">0</span> ? rules.join(<span class="string">"|"</span>) : <span class="string">""</span>&#125;</span>`</span>,</span><br><span class="line">        <span class="string">"options"</span>: elements === <span class="literal">null</span> ? <span class="string">""</span> : elements,</span><br><span class="line">        <span class="string">"hint"</span>: <span class="string">`<span class="subst">$&#123;inputHint === <span class="literal">null</span> ? <span class="string">""</span> : inputHint&#125;</span>`</span>,</span><br><span class="line">        <span class="string">"sort"</span>: sort,</span><br><span class="line">        <span class="string">"format_id"</span>: formatId</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ç”Ÿæˆç»“æœ"><a href="#ç”Ÿæˆç»“æœ" class="headerlink" title="ç”Ÿæˆç»“æœ"></a>ç”Ÿæˆç»“æœ</h3><p>æ‰§è¡Œä»¥ä¸ŠGASçš„CreateAndUploadJsonæ–¹æ³•ï¼Œå°±å¯ä»¥çœ‹åˆ°jsonæ•°æ®è¢«ç”Ÿæˆäº†sheet,å¹¶ä¸Šä¼ åˆ°äº†ä½ æŒ‡å®šçš„S3 Bucketä¸Šã€‚<br><img src="./3.png" style="width:400px;margin:40px 0"></p><p>ä»¥ä¸Š</p><hr><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://dev.classmethod.jp/articles/csv-and-json-convert-between-s3-and-spreadsheet/" target="_blank" rel="noopener">å¤šåˆ†ä¿å­˜ç‰ˆï¼ŸS3ã¨SpreadSheeté–“ã§ã®CSVã¨JSONã®ãƒ‡ãƒ¼ã‚¿èª­ã¿æ›¸ãã‚’ç°¡å˜ãªã‚µãƒ³ãƒ—ãƒ«ã§ç¶²ç¾…ã—ã¦ã¿ãŸ</a></p><p><a href="https://dev.classmethod.jp/articles/google-apps-script-gss-to-s3-json/" target="_blank" rel="noopener">Google Apps Scriptã‚’åˆ©ç”¨ã—ã¦Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’S3ã¸JSONã¨ã—ã¦ä¿å­˜ã™ã‚‹</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”¨GASé€ jsonæ•°æ®å¹¶è‡ªåŠ¨å‘å¸ƒåˆ°S3ä¸Š&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="google app script" scheme="https://kisky3.github.io/tags/google-app-script/"/>
    
      <category term="json" scheme="https://kisky3.github.io/tags/json/"/>
    
      <category term="s3" scheme="https://kisky3.github.io/tags/s3/"/>
    
      <category term="deploy" scheme="https://kisky3.github.io/tags/deploy/"/>
    
  </entry>
  
  <entry>
    <title>Set Repository-specific Username/Email</title>
    <link href="https://kisky3.github.io/2020/03/08/GitRepositoryCOmmitUserName/"/>
    <id>https://kisky3.github.io/2020/03/08/GitRepositoryCOmmitUserName/</id>
    <published>2020-03-08T14:48:44.000Z</published>
    <updated>2020-07-12T08:09:56.317Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ç‰¹å®šçš„Git Repojitoryè®¾å®šç”¨æˆ·åå’Œé‚®ç®±</p><a id="more"></a><p>æˆ‘ä»¬çŸ¥é“configæ˜¯é…ç½®çš„æ„æ€ï¼Œé‚£ä¹ˆgit configå‘½ä»¤å°±æ˜¯å¯¹gitè¿›è¡Œä¸€äº›é…ç½®ã€‚<br>gité‡Œé¢ä¸€å…±æœ‰3ä¸ªé…ç½®æ–‡ä»¶</p><h3 id="1-ä»“åº“çº§é…ç½®æ–‡ä»¶ï¼š"><a href="#1-ä»“åº“çº§é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="1.ä»“åº“çº§é…ç½®æ–‡ä»¶ï¼š"></a>1.ä»“åº“çº§é…ç½®æ–‡ä»¶ï¼š</h3><h4 id="æ–¹æ³•1ï¼šæ‰¾åˆ°è¯¥æ–‡ä»¶ï¼Œç›´æ¥æ‰“å¼€ï¼š"><a href="#æ–¹æ³•1ï¼šæ‰¾åˆ°è¯¥æ–‡ä»¶ï¼Œç›´æ¥æ‰“å¼€ï¼š" class="headerlink" title="æ–¹æ³•1ï¼šæ‰¾åˆ°è¯¥æ–‡ä»¶ï¼Œç›´æ¥æ‰“å¼€ï¼š"></a>æ–¹æ³•1ï¼šæ‰¾åˆ°è¯¥æ–‡ä»¶ï¼Œç›´æ¥æ‰“å¼€ï¼š</h4><p>è¯¥æ–‡ä»¶ä½äºå½“å‰ä»“åº“ä¸‹ï¼Œè·¯å¾„.git/ï¼Œæ–‡ä»¶åä¸ºconfig<br>è¿™ä¸ªé…ç½®ä¸­çš„è®¾ç½®åªå¯¹å½“å‰æ‰€åœ¨ä»“åº“ï¼ˆH:\MyGitç›®å½•ä¸‹çš„testä»“åº“ï¼‰æœ‰æ•ˆ</p><h4 id="æ–¹æ³•2ï¼š"><a href="#æ–¹æ³•2ï¼š" class="headerlink" title="æ–¹æ³•2ï¼š"></a>æ–¹æ³•2ï¼š</h4><p>é€šè¿‡å‘½ä»¤æŸ¥çœ‹é¡¹ç›®é…ç½®ï¼ˆä»“åº“çº§é…ç½®ï¼‰ï¼šgit config â€“local -l</p><hr><h3 id="2-å…¨å±€çº§é…ç½®æ–‡ä»¶ï¼š"><a href="#2-å…¨å±€çº§é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="2.å…¨å±€çº§é…ç½®æ–‡ä»¶ï¼š"></a>2.å…¨å±€çº§é…ç½®æ–‡ä»¶ï¼š</h3><h4 id="æ–¹æ³•1ï¼š"><a href="#æ–¹æ³•1ï¼š" class="headerlink" title="æ–¹æ³•1ï¼š"></a>æ–¹æ³•1ï¼š</h4><p>ä»¥win10ä¸ªäººçš„PCæœºä¸ºä¾‹ï¼Œåœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼Œå…¶è·¯å¾„ä¸ºï¼šC:\Users\Administratorï¼Œæ–‡ä»¶åä¸º .gitconfig</p><h4 id="æ–¹æ³•2"><a href="#æ–¹æ³•2" class="headerlink" title="æ–¹æ³•2:"></a>æ–¹æ³•2:</h4><p>é€šè¿‡å‘½ä»¤æŸ¥çœ‹å…¨å±€çº§é…ç½®ï¼šgit config â€“global -l</p><hr><h3 id="3-ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶ï¼š"><a href="#3-ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="3.ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶ï¼š"></a>3.ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶ï¼š</h3><h4 id="æ–¹æ³•1ï¼š-1"><a href="#æ–¹æ³•1ï¼š-1" class="headerlink" title="æ–¹æ³•1ï¼š"></a>æ–¹æ³•1ï¼š</h4><p>æœ¬åœ°gitçš„å®‰è£…ç›®å½•ä¸‹ï¼Œä»¥æˆ‘çš„gitå®‰è£…è·¯å¾„ä¸ºä¾‹ï¼šF:\software\Git\mingw64\etcï¼Œæ–‡ä»¶åä¸ºï¼šgitconfig</p><h4 id="æ–¹æ³•2ï¼š-1"><a href="#æ–¹æ³•2ï¼š-1" class="headerlink" title="æ–¹æ³•2ï¼š"></a>æ–¹æ³•2ï¼š</h4><p>é€šè¿‡å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿé…ç½®ï¼šgit config â€“system -l</p><hr><p>å¯¹äºgitæ¥è¯´ï¼Œé…ç½®æ–‡ä»¶çš„æƒé‡æ˜¯ä»“åº“&gt;å…¨å±€&gt;ç³»ç»Ÿ</p><h3 id="äºŒã€-ç”¨git-configå‘½ä»¤æŸ¥çœ‹é…ç½®æ–‡ä»¶"><a href="#äºŒã€-ç”¨git-configå‘½ä»¤æŸ¥çœ‹é…ç½®æ–‡ä»¶" class="headerlink" title="äºŒã€ ç”¨git configå‘½ä»¤æŸ¥çœ‹é…ç½®æ–‡ä»¶"></a>äºŒã€ ç”¨git configå‘½ä»¤æŸ¥çœ‹é…ç½®æ–‡ä»¶</h3><p>å‘½ä»¤å‚æ•° â€“list, ç®€å†™ -l<br>æ ¼å¼ï¼šgit config [â€“local|â€“global|â€“system] -l<br>æŸ¥çœ‹ä»“åº“çº§çš„configï¼Œå‘½ä»¤ï¼šgit config â€“local -l<br>æŸ¥çœ‹å…¨å±€çº§çš„configï¼Œå‘½ä»¤ï¼šgit config â€“global -l<br>æŸ¥çœ‹ç³»ç»Ÿçº§çš„configï¼Œå‘½ä»¤ï¼šgit config â€“system -l<br>æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆçš„é…ç½®ï¼Œå‘½ä»¤ï¼šgit config -lï¼Œè¿™ä¸ªæ—¶å€™ä¼šæ˜¾ç¤ºæœ€ç»ˆä¸‰ä¸ªé…ç½®æ–‡ä»¶è®¡ç®—åçš„é…ç½®ä¿¡æ¯</p><hr><h3 id="ä¸‰ã€-ä½¿ç”¨git-configå‘½ä»¤ç¼–è¾‘é…ç½®æ–‡ä»¶"><a href="#ä¸‰ã€-ä½¿ç”¨git-configå‘½ä»¤ç¼–è¾‘é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸‰ã€ ä½¿ç”¨git configå‘½ä»¤ç¼–è¾‘é…ç½®æ–‡ä»¶"></a>ä¸‰ã€ ä½¿ç”¨git configå‘½ä»¤ç¼–è¾‘é…ç½®æ–‡ä»¶</h3><p>ç¼–è¾‘çš„è‹±æ–‡å•è¯æ˜¯ä»€ä¹ˆï¼Œæ²¡é”™ï¼Œedit</p><p>å‘½ä»¤å‚æ•° â€“edit, ç®€å†™ -e</p><p>æ ¼å¼ï¼šgit config [â€“local|â€“global|â€“system] -e</p><p>ç¼–è¾‘ä»“åº“çº§çš„configï¼Œå‘½ä»¤ï¼šgit config â€“local -eï¼Œä¸â€“listå‚æ•°ä¸åŒçš„æ˜¯ï¼Œgit config -eé»˜è®¤æ˜¯ç¼–è¾‘ä»“åº“çº§çš„é…ç½®æ–‡ä»¶ã€‚</p><p>ç¼–è¾‘å…¨å±€çº§çš„configï¼Œå‘½ä»¤ï¼šgit config â€“global -e</p><p>ç¼–è¾‘ç³»ç»Ÿçº§çš„configï¼Œå‘½ä»¤ï¼šgit config â€“system -e</p><p>æ³¨ï¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œgitä¼šç”¨é…ç½®æ–‡ä»¶ä¸­è®¾å®šçš„ç¼–è¾‘å™¨æ‰“å¼€é…ç½®æ–‡ä»¶ã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git config user.name &quot;hogehoge&quot;</span><br><span class="line">$ git config user.email hoge@gmail.com</span><br><span class="line"></span><br><span class="line">$ git config --global user.name &quot;hogehoge&quot;</span><br><span class="line">$ git config --global user.email hoge@gmail.com</span><br><span class="line"></span><br><span class="line">$ git config --local user.name &quot;hogehoge&quot;</span><br><span class="line">$ git config --local user.email hoge@gmail.com</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ç‰¹å®šçš„Git Repojitoryè®¾å®šç”¨æˆ·åå’Œé‚®ç®±&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="Git" scheme="https://kisky3.github.io/tags/Git/"/>
    
      <category term="GitConfig" scheme="https://kisky3.github.io/tags/GitConfig/"/>
    
  </entry>
  
  <entry>
    <title>Setting Vue CLI Modes and Environment Variables</title>
    <link href="https://kisky3.github.io/2020/03/03/SettingVueCLI-env/"/>
    <id>https://kisky3.github.io/2020/03/03/SettingVueCLI-env/</id>
    <published>2020-03-03T10:15:13.000Z</published>
    <updated>2020-07-12T08:09:56.413Z</updated>
    
    <content type="html"><![CDATA[<p>è®¾ç½®Vue CLIçš„æ¨¡å¼å’Œç¯å¢ƒå˜é‡</p><a id="more"></a><p>åŸºæœ¬ä¸Šå‚ç…§å®˜æ–¹æ–‡æ¡£è®¾å®šå°±å¥½ <a href="https://cli.vuejs.org/guide/mode-and-env.html#modes" target="_blank" rel="noopener">Vue å®˜æ–¹æ–‡æ¡£</a></p><hr><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><ul><li>Vue CLI: 3.6.3</li></ul><hr><h3 id="å‰ææ¡ä»¶"><a href="#å‰ææ¡ä»¶" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h3><p>æœ¬å›åˆ›å»ºæœ¬åœ°localç¯å¢ƒï¼Œå¼€å‘ç¯å¢ƒï¼Œå’Œç”Ÿäº§ç¯å¢ƒ</p><hr><h3 id="envæ–‡ä»¶çš„ç”Ÿæˆ"><a href="#envæ–‡ä»¶çš„ç”Ÿæˆ" class="headerlink" title=".envæ–‡ä»¶çš„ç”Ÿæˆ"></a>.envæ–‡ä»¶çš„ç”Ÿæˆ</h3><ul><li>.env.local</li><li>.env.development</li><li>.env.prod<br>åœ¨åˆ›å»ºå¥½çš„æ¯ä¸ªæ–‡ä»¶ä¸‹å†™å…¥ç›¸åº”çš„API Base URL.<br>æœ¬åœ°ç¯å¢ƒçš„æƒ…å†µä¸‹ <code>.local</code>æœ€å¥½åœ¨.gitignoreé‡Œæ·»åŠ ï¼Œä¸è¦pushåˆ°ç”Ÿäº§ç¯å¢ƒé‡Œã€‚<br><code>VUE_APP_</code>è¿™ä¸ªæ¥å¤´è¯æ˜¯å¿…è¦çš„ï¼Œæ¼æ‰çš„è¯buildä¸æˆåŠŸçš„ã€‚ã€‚(ä¹‹å‰å¡åœ¨è¿™äº†)</li></ul><p>ä¾‹ï¼š<br>.env.local</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NODE_ENV=&apos;local&apos;</span><br><span class="line">VUE_APP_API_BASE_URL=&apos;https://localhost:8080/api/v1/xxx&apos;</span><br></pre></td></tr></table></figure><p>.env.development</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NODE_ENV=&apos;development&apos;</span><br><span class="line">VUE_APP_API_BASE_URL=&apos;https://development/api/v1/xxx&apos;</span><br></pre></td></tr></table></figure><p>.env.prod</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NODE_ENV=&apos;production&apos;</span><br><span class="line">VUE_APP_API_BASE_URL=&apos;https://production/api/v1/xxx&apos;</span><br></pre></td></tr></table></figure><hr><h3 id="package-jsonçš„è®¾å®š"><a href="#package-jsonçš„è®¾å®š" class="headerlink" title="package.jsonçš„è®¾å®š"></a>package.jsonçš„è®¾å®š</h3><p>åœ¨package.jsoné‡Œçš„scriptsé‡Œè®¾å®šä½ çš„æ¨¡å¼</p><p>ä¾‹ï¼š<br>package.json</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;local-serve&quot;: &quot;vue-cli-service serve --mode local&quot;,</span><br><span class="line">    &quot;dev-serve&quot;: &quot;vue-cli-service serve --mode development&quot;,</span><br><span class="line">    &quot;prod-serve&quot;: &quot;vue-cli-service serve --mode production&quot;,</span><br><span class="line">    &quot;dev-build&quot;: &quot;vue-cli-service build --mode development&quot;,</span><br><span class="line">    &quot;prod-build&quot;: &quot;vue-cli-service build --mode production&quot;,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>æ ¹æ®ä½ è®¾å®šçš„package.jsonæ¥è¿è¡Œ<br>æ¯”å¦‚ yarn local-serveçš„æ—¶å€™ï¼Œå°±ä¼šç›¸åº”çš„è·å–.env.localé‡Œçš„ç¯å¢ƒå˜é‡ã€‚</p><p>è¿™æ ·ä½ å°±èƒ½å¤Ÿæ ¹æ®ä¸åŒçš„å¼€å‘ç¯å¢ƒè¿›è¡Œbuild,deployäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®¾ç½®Vue CLIçš„æ¨¡å¼å’Œç¯å¢ƒå˜é‡&lt;/p&gt;
    
    </summary>
    
      <category term="System Setting" scheme="https://kisky3.github.io/categories/System-Setting/"/>
    
    
      <category term="setting" scheme="https://kisky3.github.io/tags/setting/"/>
    
      <category term="Vue CLI" scheme="https://kisky3.github.io/tags/Vue-CLI/"/>
    
      <category term="Environment Variables" scheme="https://kisky3.github.io/tags/Environment-Variables/"/>
    
  </entry>
  
  <entry>
    <title>Create a Anonymous Bot for Slack</title>
    <link href="https://kisky3.github.io/2020/02/28/slackanonymousbot/"/>
    <id>https://kisky3.github.io/2020/02/28/slackanonymousbot/</id>
    <published>2020-02-28T14:50:23.000Z</published>
    <updated>2020-07-12T08:09:56.703Z</updated>
    
    <content type="html"><![CDATA[<p>åšä¸€ä¸ªå¯ä»¥åœ¨slackåŒ¿åå‘è¨€çš„æœºå™¨äºº</p><a id="more"></a><p>è¿è¡Œç¯å¢ƒ</p><ul><li>Ubuntu16.04</li><li>node.js</li></ul><p>å®Œæˆåçš„ç¤ºæ„å›¾<br><img src="./1.png" style="width:400px;margin:40px 0"></p><h3 id="æ·»åŠ Bot"><a href="#æ·»åŠ Bot" class="headerlink" title="æ·»åŠ Bot"></a>æ·»åŠ Bot</h3><p>é¦–å…ˆç‚¹å‡»ä¸‹é¢çš„linkåœ¨slacké‡Œæ·»åŠ bot</p><p><a href="https://my.slack.com/services/new/bot" target="_blank" rel="noopener">https://my.slack.com/services/new/bot</a></p><p>è¿™é‡Œç”¨äº†<code>anonymous</code>çš„botåå­—ï¼Œä¹Ÿå¯ä»¥è¾“å…¥å…¶ä»–çš„ï¼Œç„¶åç‚¹å‡»ã€ŒAdd bot integrationã€æŒ‰é’®ã€‚</p><img src="./2.png" style="width:500px;margin:40px 0"><p>ç„¶åè®°ä¸‹ç”»é¢ä¸Šæ˜¾ç¤ºçš„ ã€ŒAPI Tokenã€</p><h3 id="è·å–é¢‘é“ID"><a href="#è·å–é¢‘é“ID" class="headerlink" title="è·å–é¢‘é“ID"></a>è·å–é¢‘é“ID</h3><p><a href="https://slack.com/api/conversations.list?token=åˆšåˆšè®°å½•ä¸‹çš„API_Token" target="_blank" rel="noopener">https://slack.com/api/conversations.list?token=åˆšåˆšè®°å½•ä¸‹çš„API_Token</a></p><p>è¿˜å¯ä»¥å–å¾—ç”¨æˆ·IDå’Œéå…¬å¼€é¢‘é“ID</p><hr><h3 id="å®‰è£…Botkit"><a href="#å®‰è£…Botkit" class="headerlink" title="å®‰è£…Botkit"></a>å®‰è£…Botkit</h3><p>å®‰è£…å¹¶ä½¿ç”¨Slackå®˜æ–¹æ–‡æ¡£ä¸Šçš„Botæ¡†æ¶<a href="https://github.com/howdyai/botkit" target="_blank" rel="noopener">Botkit</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//åˆ›å»ºè·¯å¾„</span><br><span class="line">$ cd ~</span><br><span class="line">$ mkdir slack_anonymous_bot </span><br><span class="line">$ cd slack_anonymous_bot</span><br><span class="line"></span><br><span class="line">//botkit clone</span><br><span class="line">$ git clone https://github.com/howdyai/botkit.git</span><br><span class="line">$ cd botkit</span><br><span class="line"></span><br><span class="line">//branch ç§»åŠ¨</span><br><span class="line">$ git checkout origin/legacy </span><br><span class="line"></span><br><span class="line">//å®‰è£…</span><br><span class="line">$ npm install</span><br><span class="line"></span><br><span class="line">//å¦‚æœå®‰è£…å¤±è´¥ãƒ»ãƒ»ãƒ»</span><br><span class="line">$ npm audit fix</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>å¦‚æœç”Ÿæˆäº†~/botkit/example/slack_bot.jså°±è¯´æ˜æˆåŠŸäº†</p><hr><h3 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// ç§»åŠ¨åˆ°ä½ ç”Ÿæˆçš„è·¯å¾„</span><br><span class="line">$ cd ~</span><br><span class="line">$ cd slack_anonymous_bot/botkit/</span><br><span class="line"></span><br><span class="line">//åˆ¶ä½œanonymous_bot.js</span><br><span class="line">$ touch anonymous_bot.js</span><br></pre></td></tr></table></figure><p>åœ¨anonymous_bot.jsé‡Œç²˜è´´ä¸‹é¢çš„ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">var Botkit = require(&quot;./lib/Botkit.js&quot;); // æ³¨æ„path</span><br><span class="line">var os = require(&quot;os&quot;);</span><br><span class="line"></span><br><span class="line">var controller = Botkit.slackbot(&#123;</span><br><span class="line">    debug: true,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var bot = controller.spawn(&#123;</span><br><span class="line">    token: &quot;åˆšåˆšè®°å½•ä¸‹çš„API_TOKEN&quot;</span><br><span class="line">&#125;).startRTM();</span><br><span class="line"></span><br><span class="line">controller.on(&quot;direct_message&quot;, (bot, message) =&gt; &#123;</span><br><span class="line">    var now = new Date(); //è·å–æ—¶é—´</span><br><span class="line">    var user_name = &quot;åç„¡ã—ã•ã‚“: &quot;+ now.getFullYear()+&quot;/&quot;+(now.getMonth()+1)+&quot;/&quot;+now.getDate()+&quot;/ &quot;+now.getHours()+&quot;:&quot;+now.getMinutes()+&quot;:&quot;+now.getSeconds();</span><br><span class="line"></span><br><span class="line">    bot.reply(message, &quot;åŒ¿åã§æŠ•ç¨¿ã—ã¾ã—ãŸï¼&quot;);</span><br><span class="line"></span><br><span class="line">    bot.startConversation(&#123;  channel : &quot;åˆšåˆšå–å¾—çš„é¢‘é“ID&quot; &#125;, (err, convo) =&gt; &#123;</span><br><span class="line">        var send_message = &#123;</span><br><span class="line">          type: &quot;message&quot;,</span><br><span class="line">          channel: &quot;åˆšåˆšå–å¾—çš„é¢‘é“ID&quot;,</span><br><span class="line">          text: message.text,</span><br><span class="line">          username: user_name,</span><br><span class="line">          thread_ts: null,</span><br><span class="line">          reply_broadcast: null,</span><br><span class="line">          parse: null,</span><br><span class="line">          link_names: null,</span><br><span class="line">          attachments: null,</span><br><span class="line">          unfurl_links: null,</span><br><span class="line">          unfurl_media: null,</span><br><span class="line">          icon_url: null,</span><br><span class="line">          icon_emoji: &quot;:robot_face:&quot;,</span><br><span class="line">          as_user: true</span><br><span class="line">        &#125;</span><br><span class="line">        convo.say(send_message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//debugç¯å¢ƒ</span><br><span class="line">$ cd ~/slack_anonymous_bot/botkit</span><br><span class="line">$ node anonymous_bot.js</span><br><span class="line"></span><br><span class="line">//é€šå¸¸ä¸€èˆ¬ç¯å¢ƒ</span><br><span class="line">$ cd ~/slack_anonymous_bot/botkit</span><br><span class="line">$ forever start slack_bot.js</span><br><span class="line">$ forever stop slack_bot.js // åœæ­¢bot</span><br></pre></td></tr></table></figure><hr><h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p>å¦‚æœbotè¿è¡ŒæˆåŠŸäº†ï¼Œbotå‰çš„ç¯ä¼šå˜ç»¿è‰²ã€‚<br><img src="./4.png" style="width:300px;margin:40px 0"></p><p>æŠ•ç¨¿æ—¶å€™é¦–å…ˆä¼šç»™ä½ å›ä¿¡<br><img src="./5.png" style="width:300px;margin:40px 0"></p><p>ç„¶åä½ å°±å¯ä»¥çœ‹åˆ°åŒ¿åbotåœ¨ä½ ç™»é™†çš„é¢‘é“é‡Œä»£è¡¨ä½ å‘è¨€äº†<br><img src="./6.png" style="width:300px;margin:40px 0"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åšä¸€ä¸ªå¯ä»¥åœ¨slackåŒ¿åå‘è¨€çš„æœºå™¨äºº&lt;/p&gt;
    
    </summary>
    
      <category term="System Setting" scheme="https://kisky3.github.io/categories/System-Setting/"/>
    
    
      <category term="setting" scheme="https://kisky3.github.io/tags/setting/"/>
    
      <category term="slack bot" scheme="https://kisky3.github.io/tags/slack-bot/"/>
    
      <category term="slack" scheme="https://kisky3.github.io/tags/slack/"/>
    
      <category term="AnonymousBot" scheme="https://kisky3.github.io/tags/AnonymousBot/"/>
    
      <category term="BotKit" scheme="https://kisky3.github.io/tags/BotKit/"/>
    
  </entry>
  
  <entry>
    <title>Use ServerlessFramework To Create REST API</title>
    <link href="https://kisky3.github.io/2020/02/10/UseServerlessFrameworkToCreateRESTAPI/"/>
    <id>https://kisky3.github.io/2020/02/10/UseServerlessFrameworkToCreateRESTAPI/</id>
    <published>2020-02-10T12:03:52.000Z</published>
    <updated>2020-07-12T08:09:56.450Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨serverlessæ¡†æ¶åˆ›å»ºREST API</p><a id="more"></a><h3 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h3><ul><li>node.js (npm) v4ä»¥ä¸Š..</li><li>awsã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</li><li>awscli</li></ul><p>ä½¿ç”¨ä¸‹é¢çš„commandç¡®è®¤ç¯å¢ƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br><span class="line">v4.3.2</span><br><span class="line">$ aws --version</span><br><span class="line">aws-cli/1.11.44 Python/2.7.10 Darwin/16.4.0 botocore/1.5.7</span><br></pre></td></tr></table></figure><hr><h3 id="å®‰è£…Serverless-Framework"><a href="#å®‰è£…Serverless-Framework" class="headerlink" title="å®‰è£…Serverless Framework"></a>å®‰è£…Serverless Framework</h3><p>é¦–å…ˆä»npmå¼€å§‹å®‰è£…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g serverless</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåè¿›è¡Œç‰ˆæœ¬ç¡®è®¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">serverless -v</span><br><span class="line">Framework Core: 1.63.0</span><br><span class="line">Plugin: 3.3.0</span><br><span class="line">SDK: 2.3.0</span><br><span class="line">Components Core: 1.1.2</span><br><span class="line">Components CLI: 1.4.0</span><br></pre></td></tr></table></figure><h3 id="å…³äºServeless-Applicationçš„æ„æˆ"><a href="#å…³äºServeless-Applicationçš„æ„æˆ" class="headerlink" title="å…³äºServeless Applicationçš„æ„æˆ"></a>å…³äºServeless Applicationçš„æ„æˆ</h3><p>Serveless Applicationä¸»è¦åˆ†ä¸º<strong>æœ‰å„ç§æ–¹æ³•(ä½ æ‰€æƒ³è¿è¡Œçš„ä»£ç å—)çš„æ–‡ä»¶</strong>å’Œ<strong>äº‘ç«¯(AWS)è®¾å®šæ–‡ä»¶</strong></p><hr><h3 id="è®¾ç½®AWS-Credentials"><a href="#è®¾ç½®AWS-Credentials" class="headerlink" title="è®¾ç½®AWS Credentials"></a>è®¾ç½®AWS Credentials</h3><p>é¦–å…ˆè¦è®¾ç½®èƒ½ä½¿ç”¨Serveless Frameworkçš„IAM</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">To let the Serverless Framework access your AWS account, we&apos;re going to create an IAM User with Admin access, which can configure the services in your AWS account. This IAM User will have its own set of AWS Access Keys.</span><br></pre></td></tr></table></figure><img src="./1.png" style="width:600px;margin:40px 0"><p>è¾“å…¥é€‚å½“çš„ç”¨æˆ·åï¼Œåœ¨ã€Œã‚¢ã‚¯ã‚»ã‚¹ç¨®é¡ã€çš„åœ°æ–¹é€‰æ‹©ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹ã€<br><img src="./2.png" style="width:600px;margin:40px 0"></p><p>åœ¨æƒé™è®¾ç½®çš„åœ°æ–¹é€‰æ‹©ã€Œæ—¢å­˜ã®ãƒãƒªã‚·ãƒ¼ã‚’ç›´æ¥ã‚¢ã‚¿ãƒƒãƒã€,ç„¶åæœç´¢é€‰æ‹©ä½ æ‰€éœ€è¦çš„ãƒãƒªã‚·ãƒ¼.<br>AdministratorAccessæ˜¯å·²å­˜åœ¨çš„æƒé™æœ€å¼ºçš„ãƒãƒªã‚·ãƒ¼ã€‚<br><img src="./3.png" style="width:600px;margin:40px 0"></p><p>ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ¶ä½œä½ æ‰€éœ€è¦çš„ãƒãƒªã‚·ãƒ¼,æ¥é™åˆ¶ä½ æ‰€èƒ½ä½¿ç”¨åˆ°çš„æœåŠ¡å’Œæƒé™èŒƒå›´ã€‚<br>æ¯”å¦‚è¯´ä¸‹é¢è¿™ä¸ªå°±æ˜¯è¿æ¥åˆ°S3çš„ï¼Œå¹¶ä¸”åªæœ‰è¯»å–æƒé™çš„ãƒãƒªã‚·ãƒ¼<br><img src="./4.png" style="width:600px;margin:40px 0"></p><p>å½“ç”¨æˆ·ç”Ÿæˆä¹‹åä½ ä¼šå¾—åˆ°ä¸€å¯¹key.<br>ç‚¹å‡»è¡¨ç¤ºå¹¶ä¸‹è½½csvæ–‡æ¡£.</p><p>ä¹‹åå°±å¯ä»¥åˆ©ç”¨åˆ¶ä½œå¥½çš„IAM Useræ¥è®¾ç½®Serverless Frameworkäº†ã€‚<br>ç”¨ä¸‹é¢çš„ <code>aws configure</code>å‘½ä»¤è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sls config credentials --provider aws --key XXXXXXXXXXXXEXAMPLE --secret XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXEXAMPLEKEY</span><br><span class="line">Serverless: Setting up AWS...</span><br><span class="line">Serverless: Saving your AWS profile in &quot;~/.aws/credentials&quot;...</span><br><span class="line">Serverless: Success! Your AWS access keys were stored under the &quot;default&quot; profile.</span><br></pre></td></tr></table></figure><p>å¦‚æœå·²ç»æœ‰defualtçš„<code>aws configure</code>çš„æ—¶å€™ï¼ŒåŠ ä¸Šé€‰é¡¹ â€“profileå°±å¥½äº†ã€‚</p><h3 id="ç”ŸæˆServiceå¹¶deploy"><a href="#ç”ŸæˆServiceå¹¶deploy" class="headerlink" title="ç”ŸæˆServiceå¹¶deploy"></a>ç”ŸæˆServiceå¹¶deploy</h3><p>ä¸€è¡Œçš„å‘½ä»¤è¡Œå°±è¡Œï¼Œè¿™å°±æ˜¯Serverless Frameworkçš„é­…åŠ›ã€‚<br>é¦–å…ˆç”Ÿæˆæ–°çš„service</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ sls create -t aws-python -p slstest</span><br><span class="line">Serverless: Generating boilerplate...</span><br><span class="line">Serverless: Generating boilerplate in &quot;/your/folder/slstest&quot;</span><br><span class="line"> _______ __</span><br><span class="line">| _ .-----.----.--.--.-----.----| .-----.-----.-----.</span><br><span class="line">| |___| -__| _| | | -__| _| | -__|__ --|__ --|</span><br><span class="line">|____ |_____|__| \___/|_____|__| |__|_____|_____|_____|</span><br><span class="line">| | | The Serverless Application Framework</span><br><span class="line">| | serverless.com, v1.7.0</span><br><span class="line"> -------&apos;</span><br><span class="line"></span><br><span class="line">Serverless: Successfully generated boilerplate for template: &quot;aws-python&quot;</span><br><span class="line">$ ls slstest/</span><br><span class="line">handler.py serverless.yml</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç”¨python functionçš„template.ä½ è¿˜å¯ä»¥é€‰æ‹©å…¶ä»–çš„è¯­è¨€.</p><p>å…¶ä¸­åŒ…æ‹¬ï¼š</p><ul><li><p>handler.py<br>lambda functionçš„template,é‡Œé¢å·²ç»å®šä¹‰å¥½äº†æµ‹è¯•ç”¨çš„hello function.</p></li><li><p>serverless.yml<br>ç”¨äºè®°å½•Serverless Frameworkçš„è®¾å®š<br><code>sls create</code> å‘½ä»¤è¡Œçš„é€‰é¡¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sls create --help</span><br><span class="line">Plugin: Create</span><br><span class="line">create ........................ Create <span class="keyword">new</span> Serverless service</span><br><span class="line">--template / -t (required) ......... Template <span class="keyword">for</span> the service. Available templates: <span class="string">"aws-nodejs"</span>, <span class="string">"aws-python"</span>, <span class="string">"aws-java-maven"</span>, <span class="string">"aws-java-gradle"</span>, <span class="string">"aws-scala-sbt"</span>, <span class="string">"aws-csharp"</span>, <span class="string">"openwhisk-nodejs"</span> and <span class="string">"plugin"</span></span><br><span class="line">--path / -p ........................ The path where the service should be created (e.g. --path my-service)</span><br><span class="line">--name / -n ........................ Name <span class="keyword">for</span> the service. Overwrites the <span class="keyword">default</span> name <span class="keyword">of</span> the created service.</span><br></pre></td></tr></table></figure></li></ul><p>è¿™æ¬¡é€‰æ‹©çš„æ˜¯python,æ‰€ä»¥ç”¨aws-python.<br>å¦å¤–ï¼Œå¦‚æœæ˜¯æ–°å»ºçš„scriptçš„è¯è¦æŒ‡å®šPATH.<br>slstestæ–‡ä»¶å¤¹å°±æ˜¯ç”¨äºæŒ‡å®šPATH.</p><p>å¦‚æœæ˜¯å·²ç»å­˜åœ¨çš„è¯ï¼Œscriptçš„æ–‡ä»¶å¤¹å†… ä½¿ç”¨<code>sls create</code>å°±å¥½.</p><p>è¯¦ç»†è®¾å®šå¯ä»¥ä¹‹åå†ç¼–è¾‘<code>serverless.yml</code>,ç°åœ¨é¦–å…ˆè¦ç¡®è®¤èƒ½å¦è·‘èµ·æ¥,<br>é‚£ä¹ˆå…ˆç§»åŠ¨åˆ°slstestæ–‡ä»¶å¤¹å¹¶deploy.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ cd slstest/</span><br><span class="line">$ sls deploy</span><br><span class="line">Serverless: Creating Stack...</span><br><span class="line">Serverless: Checking Stack create progress...</span><br><span class="line">.....</span><br><span class="line">Serverless: Stack create finished...</span><br><span class="line">Serverless: Packaging service...</span><br><span class="line">Serverless: Uploading CloudFormation file to S3...</span><br><span class="line">Serverless: Uploading service .zip file to S3 (639 B)...</span><br><span class="line">Serverless: Updating Stack...</span><br><span class="line">Serverless: Checking Stack update progress...</span><br><span class="line">..................</span><br><span class="line">Serverless: Stack update finished...</span><br><span class="line">Service Information</span><br><span class="line">service: slstest</span><br><span class="line">stage: dev</span><br><span class="line">region: us-east-1</span><br><span class="line">api keys:</span><br><span class="line">None</span><br><span class="line">endpoints:</span><br><span class="line">None</span><br><span class="line">functions:</span><br><span class="line">slstest-dev-hello</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±deployå¥½äº†,é‡Œé¢è‡ªåŠ¨è®¾å®šå¥½äº†CloudFormation,IAM,Lambdaç­‰.</p><h3 id="æµ‹è¯•ä¸€ä¸‹"><a href="#æµ‹è¯•ä¸€ä¸‹" class="headerlink" title="æµ‹è¯•ä¸€ä¸‹"></a>æµ‹è¯•ä¸€ä¸‹</h3><p>deployä¹‹åæµ‹è¯•ä¸€ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sls invoke -f hello</span><br><span class="line">&#123;</span><br><span class="line">&quot;body&quot;: &quot;&#123;\&quot;input\&quot;: &#123;&#125;, \&quot;message\&quot;: \&quot;Go Serverless v1.0! Your function executed successfully!\&quot;&#125;&quot;,</span><br><span class="line">&quot;statusCode&quot;: 200</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä¹Ÿéå¸¸ç®€å•.<code>sls invoke</code>çš„å‘½ä»¤è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sls invoke --help</span><br><span class="line">Plugin: Invoke</span><br><span class="line">invoke ........................ Invoke a deployed function</span><br><span class="line">invoke local .................. Invoke function locally</span><br><span class="line">--function / -f (required) ......... The function name</span><br><span class="line">--stage / -s ....................... Stage of the service</span><br><span class="line">--region / -r ...................... Region of the service</span><br><span class="line">--path / -p ........................ Path to JSON or YAML file holding input data</span><br><span class="line">--type / -t ........................ Type of invocation</span><br><span class="line">--log / -l ......................... Trigger logging data output</span><br><span class="line">--data / -d ........................ input data</span><br></pre></td></tr></table></figure><p>åˆšåˆšçš„æµ‹è¯•æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰ä¼ é€’ï¼Œè¦ä¼ é€’æ•°æ®çš„æ—¶å€™åŠ ä¸Š<code>-d</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sls invoke -f hello -d <span class="string">'&#123;"key":"value"&#125;'</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"body"</span>: <span class="string">"&#123;\"input\": &#123;\"key\": \"value\"&#125;, \"message\": \"Go Serverless v1.0! Your function executed successfully!\"&#125;"</span>,</span><br><span class="line"><span class="string">"statusCode"</span>: <span class="number">200</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¾‘serveless-yml"><a href="#ç¼–è¾‘serveless-yml" class="headerlink" title="ç¼–è¾‘serveless.yml"></a>ç¼–è¾‘serveless.yml</h3><p>regionä¹‹ç±»çš„è®¾å®šéƒ½åœ¨ç”Ÿæˆçš„serveless.ymlé‡Œè¿›è¡Œç¼–è¾‘/</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># you can overwrite defaults here</span><br><span class="line"># stage: dev</span><br><span class="line">region: ap-northeast-1  # åœ¨è¿™é‡Œç¼–è¾‘</span><br></pre></td></tr></table></figure><p>ä¿å­˜è®¾å®šå¹¶ä¸”å†å®è¡Œä¸€æ¬¡ï¼Œé¡ºä¾¿ä½¿ç”¨<code>-v</code>é€‰é¡¹è¿›è¡ŒåŠ¨ä½œçš„ç¡®è®¤</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">$ sls deploy -v</span><br><span class="line">Serverless: Creating Stack...</span><br><span class="line">Serverless: Checking Stack create progress...</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::CloudFormation::Stack - slstest-dev</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::S3::Bucket - ServerlessDeploymentBucket</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::S3::Bucket - ServerlessDeploymentBucket</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::S3::Bucket - ServerlessDeploymentBucket</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::CloudFormation::Stack - slstest-dev</span><br><span class="line">Serverless: Stack create finished...</span><br><span class="line">Serverless: Packaging service...</span><br><span class="line">Serverless: Uploading CloudFormation file to S3...</span><br><span class="line">Serverless: Uploading service .zip file to S3 (<span class="number">639</span> B)...</span><br><span class="line">Serverless: Updating Stack...</span><br><span class="line">Serverless: Checking Stack update progress...</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::S3::Bucket - ServerlessDeploymentBucket</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::CloudFormation::Stack - slstest-dev</span><br><span class="line">CloudFormation - UPDATE_IN_PROGRESS - AWS::CloudFormation::Stack - slstest-dev</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::IAM::Role - IamRoleLambdaExecution</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Logs::LogGroup - HelloLogGroup</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Logs::LogGroup - HelloLogGroup</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::IAM::Role - IamRoleLambdaExecution</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::Logs::LogGroup - HelloLogGroup</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::IAM::Role - IamRoleLambdaExecution</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::IAM::Policy - IamPolicyLambdaExecution</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::IAM::Policy - IamPolicyLambdaExecution</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::IAM::Policy - IamPolicyLambdaExecution</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::<span class="built_in">Function</span> - HelloLambdaFunction</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::<span class="built_in">Function</span> - HelloLambdaFunction</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::Lambda::<span class="built_in">Function</span> - HelloLambdaFunction</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersionnjv8umhHX8AljD0VKQUqojKkzU2huW1AkaSample</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersionnjv8umhHX8AljD0VKQUqojKkzU2huW1AkaSample</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::Lambda::Version - HelloLambdaVersionnjv8umhHX8AljD0VKQUqojKkzU2huW1AkaSample</span><br><span class="line">CloudFormation - UPDATE_COMPLETE_CLEANUP_IN_PROGRESS - AWS::CloudFormation::Stack - slstest-dev</span><br><span class="line">CloudFormation - UPDATE_COMPLETE - AWS::CloudFormation::Stack - slstest-dev</span><br><span class="line">Serverless: Stack update finished...</span><br><span class="line">Service Information</span><br><span class="line">service: slstest</span><br><span class="line">stage: dev</span><br><span class="line">region: ap-northeast<span class="number">-1</span></span><br><span class="line">api keys:</span><br><span class="line">None</span><br><span class="line">endpoints:</span><br><span class="line">None</span><br><span class="line">functions:</span><br><span class="line">slstest-dev-hello</span><br><span class="line"></span><br><span class="line">Stack Outputs</span><br><span class="line">HelloLambdaFunctionQualifiedArn: arn:aws:lambda:ap-northeast<span class="number">-1</span>:<span class="number">000000000000</span>:<span class="function"><span class="keyword">function</span>:<span class="title">slstest</span>-<span class="title">dev</span>-<span class="title">hello</span>:1</span></span><br><span class="line"><span class="function"><span class="title">ServerlessDeploymentBucketName</span>: <span class="title">slstest</span>-<span class="title">dev</span>-<span class="title">serverlessdeploymentbucket</span>-1<span class="title">s9cy3sample</span></span></span><br></pre></td></tr></table></figure><p><code>region: ap-northeast-1</code>æ˜¯ä¸œäº¬ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå·²ç»è¢«deployäº†</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½¿ç”¨serverlessæ¡†æ¶åˆ›å»ºREST API&lt;/p&gt;
    
    </summary>
    
      <category term="Back-end Knowledge" scheme="https://kisky3.github.io/categories/Back-end-Knowledge/"/>
    
    
      <category term="serverlessframework" scheme="https://kisky3.github.io/tags/serverlessframework/"/>
    
      <category term="aws" scheme="https://kisky3.github.io/tags/aws/"/>
    
      <category term="restAPI" scheme="https://kisky3.github.io/tags/restAPI/"/>
    
  </entry>
  
  <entry>
    <title>Install AWS CLI On macOS</title>
    <link href="https://kisky3.github.io/2020/02/08/InstallAwsCLIOnMacOS/"/>
    <id>https://kisky3.github.io/2020/02/08/InstallAwsCLIOnMacOS/</id>
    <published>2020-02-08T11:54:37.000Z</published>
    <updated>2020-07-12T08:09:56.325Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ macOS ä¸Šå®‰è£… AWS CLI ç‰ˆæœ¬ 1</p><a id="more"></a><p>1.å…ˆå†³æ¡ä»¶<br>Python 2 ç‰ˆæœ¬ 2.7+ æˆ– Python 3 ç‰ˆæœ¬ 3.4+</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python --version</span><br></pre></td></tr></table></figure><hr><p>2.ä½¿ç”¨æ†ç»‘å®‰è£…ç¨‹åºå®‰è£… AWS CLI ç‰ˆæœ¬ 1<br>å¦‚æœæ²¡æœ‰ unzipï¼Œè¯·ä½¿ç”¨æ‚¨å–œæ¬¢çš„ç¨‹åºåŒ…ç®¡ç†å™¨æˆ–ç­‰æ•ˆå·¥å…·è¿›è¡Œå®‰è£…ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl &quot;https://s3.amazonaws.com/aws-cli/awscli-bundle.zip&quot; -o &quot;awscli-bundle.zip&quot;</span><br><span class="line">unzip awscli-bundle.zip</span><br><span class="line">sudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws</span><br></pre></td></tr></table></figure><hr><p>3.è¿è¡Œå®‰è£…ç¨‹åºã€‚è¯¥å‘½ä»¤å°† AWS CLI å®‰è£…åˆ° /usr/local/awsï¼Œ<br>å¹¶åœ¨ /usr/local/bin ç›®å½•ä¸­åˆ›å»ºç¬¦å·é“¾æ¥ awsã€‚ä½¿ç”¨ -b é€‰é¡¹åˆ›å»ºç¬¦å·é“¾æ¥å°†å…é™¤åœ¨ç”¨æˆ·çš„ $PATH å˜é‡ä¸­æŒ‡å®šå®‰è£…ç›®å½•çš„éœ€è¦ã€‚è¿™åº”è¯¥èƒ½è®©æ‰€æœ‰ç”¨æˆ·åœ¨ä»»ä½•ç›®å½•ä¸‹é€šè¿‡é”®å…¥ aws æ¥è°ƒç”¨ AWS CLIã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws</span><br></pre></td></tr></table></figure><hr><p>4.æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws --version</span><br></pre></td></tr></table></figure><hr><p>å‚è€ƒ<br><a href="https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/install-macos.html#awscli-install-osx-pip" target="_blank" rel="noopener">AWSå®˜æ–¹æ–‡æ¡£</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨ macOS ä¸Šå®‰è£… AWS CLI ç‰ˆæœ¬ 1&lt;/p&gt;
    
    </summary>
    
      <category term="Back-end Knowledge" scheme="https://kisky3.github.io/categories/Back-end-Knowledge/"/>
    
    
      <category term="awsCLI" scheme="https://kisky3.github.io/tags/awsCLI/"/>
    
      <category term="install" scheme="https://kisky3.github.io/tags/install/"/>
    
  </entry>
  
  <entry>
    <title>npm Error</title>
    <link href="https://kisky3.github.io/2020/02/08/npmError/"/>
    <id>https://kisky3.github.io/2020/02/08/npmError/</id>
    <published>2020-02-08T07:14:59.000Z</published>
    <updated>2020-07-12T08:09:56.697Z</updated>
    
    <content type="html"><![CDATA[<p> å¸¸è§npmé”™è¯¯</p><a id="more"></a><h3 id="npm-install-error"><a href="#npm-install-error" class="headerlink" title="npm install error"></a>npm install error</h3><p>åœ¨npm installæ—¶å€™å‘ç”Ÿerrorçš„è¯å¯ä»¥æ£€æŸ¥ä»¥ä¸‹ï¼š</p><p><strong>1.æ˜¯å¦å­˜åœ¨package.json,å› ä¸ºnpmå®‰è£…çš„æ—¶å€™æ˜¯æ ¹æ®package.jsonè·å–ç›¸åº”åŒ…çš„ã€‚æ²¡æœ‰æºæ–‡ä»¶çš„è¯å°±æ— æ³•è·å–èµ„æºã€‚</strong></p><hr><p><strong>2.åœ¨æœ‰package.jsonçš„æƒ…å†µä¸‹æœ‰å¯èƒ½æ˜¯é‡å¤å¤šæ¬¡å®‰è£…npmï¼Œå¯¼è‡´å†²çªã€‚</strong><br>å¯ä»¥å°è¯•ä»¥ä¸‹æ­¥éª¤åå†æ¬¡å®‰è£…ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// åˆ é™¤åŸå…ˆå®‰è£…å¥½çš„node_modules</span><br><span class="line">rm -rf node_modules</span><br><span class="line"></span><br><span class="line">// æ¸…æ¥šç¼“å­˜</span><br><span class="line">npm cache clean --force</span><br><span class="line"></span><br><span class="line">// æ›´æ–°npm</span><br><span class="line">npm update -g npm</span><br><span class="line"></span><br><span class="line">// å¸è½½npm</span><br><span class="line">npm uninstall npm -g</span><br></pre></td></tr></table></figure><hr><p><strong>3.å½“å‡ºç°ä»¥ä¸‹errorçš„æ—¶å€™è¯´æ˜ç«¯å£è¢«å ç”¨,å¯ä»¥ä¿®æ”¹ç«¯å£æˆ–è€…killå…¶ä»–å ç”¨æ­¤ç«¯å£çš„ç¨‹åºã€‚</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&gt; frontend@1.0.0 dev /Users/apple/Desktop/vue-s3-dropzone/frontend</span><br><span class="line">&gt; node build/dev-server.js</span><br><span class="line"></span><br><span class="line">events.js:174</span><br><span class="line">      throw er; // Unhandled &apos;error&apos; event</span><br><span class="line">      ^</span><br><span class="line"></span><br><span class="line">Error: listen EADDRINUSE: address already in use :::8080</span><br><span class="line">    at Server.setupListenHandle [as _listen2] (net.js:1279:14)</span><br><span class="line">    at listenInCluster (net.js:1327:12)</span><br><span class="line">    at Server.listen (net.js:1414:7)</span><br><span class="line">    at Function.listen (/Users/apple/Desktop/vue-s3-dropzone/frontend/node_modules/express/lib/application.js:617:24)</span><br><span class="line">    at Object.&lt;anonymous&gt; (/Users/apple/Desktop/vue-s3-dropzone/frontend/build/dev-server.js:60:22)</span><br><span class="line">    at Module._compile (internal/modules/cjs/loader.js:776:30)</span><br><span class="line">    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)</span><br><span class="line">    at Module.load (internal/modules/cjs/loader.js:653:32)</span><br><span class="line">    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)</span><br><span class="line">    at Function.Module._load (internal/modules/cjs/loader.js:585:3)</span><br><span class="line">    at Function.Module.runMain (internal/modules/cjs/loader.js:829:12)</span><br><span class="line">    at startup (internal/bootstrap/node.js:283:19)</span><br><span class="line">    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)</span><br><span class="line">Emitted &apos;error&apos; event at:</span><br><span class="line">    at emitErrorNT (net.js:1306:8)</span><br><span class="line">    at process._tickCallback (internal/process/next_tick.js:63:19)</span><br><span class="line">    at Function.Module.runMain (internal/modules/cjs/loader.js:832:11)</span><br><span class="line">    at startup (internal/bootstrap/node.js:283:19)</span><br><span class="line">    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)</span><br><span class="line">npm ERR! code ELIFECYCLE</span><br><span class="line">npm ERR! errno 1</span><br><span class="line">npm ERR! frontend@1.0.0 dev: `node build/dev-server.js`</span><br><span class="line">npm ERR! Exit status 1</span><br><span class="line">npm ERR!</span><br><span class="line">npm ERR! Failed at the frontend@1.0.0 dev script.</span><br><span class="line">npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /Users/apple/.npm/_logs/2020-02-08T07_13_59_039Z-debug.log</span><br></pre></td></tr></table></figure><hr><p><strong>4.æœ‰å¯èƒ½åœ¨å®‰è£…æ—¶å€™åŒ…ä¸¢å¤±ï¼Œå¯ä»¥ä¿®å¤ä¸€ä¸‹</strong><br>Error:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">return (new fsevents(path)).on(&apos;fsevent&apos;, callback).start(); ^</span><br><span class="line"></span><br><span class="line">TypeError: fsevents is not a constructor at createFSEventsInstance (/Users/nannam/test-app-2/node_modules/chokidar/lib/fsevents-handler.js:28:11) at setFSEventsListener (/Users/nannam/test-app-2/node_modules/chokidar/lib/fsevents-handler.js:82:16) at FSWatcher.FsEventsHandler._watchWithFsEvents (/Users/nannam/test-app-2/node_modules/chokidar/lib/fsevents-handler.js:252:16) at FSWatcher. (/Users/nannam/test-app-2/node_modules/chokidar/lib/fsevents-handler.js:386:25) at LOOP (fs.js:1565:14) at process._tickCallback (internal/process/next_tick.js:61:11) error Command failed with exit code 1. info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.</span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm audit fix --force</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; å¸¸è§npmé”™è¯¯&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="npm" scheme="https://kisky3.github.io/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>Vue VeeValidation Sample</title>
    <link href="https://kisky3.github.io/2020/01/30/VeeValidation/"/>
    <id>https://kisky3.github.io/2020/01/30/VeeValidation/</id>
    <published>2020-01-30T08:57:50.000Z</published>
    <updated>2020-07-12T08:09:56.454Z</updated>
    
    <content type="html"><![CDATA[<p>Vueçš„è¡¨å•éªŒè¯ç»„ä»¶ VeeValidation</p><a id="more"></a><h3 id="1-å®‰è£…VeeValidation"><a href="#1-å®‰è£…VeeValidation" class="headerlink" title="1. å®‰è£…VeeValidation"></a>1. å®‰è£…VeeValidation</h3><p>ä»npmå®‰è£…VeeValidation<br>å®˜ç½‘ï¼š <a href="https://logaretm.github.io/vee-validate/guide/basics.html" target="_blank" rel="noopener">VeeValidation</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install vee-validate --save</span><br></pre></td></tr></table></figure><hr><h3 id="2-VeeValidationè¿›è¡ŒéªŒè¯"><a href="#2-VeeValidationè¿›è¡ŒéªŒè¯" class="headerlink" title="2. VeeValidationè¿›è¡ŒéªŒè¯"></a>2. VeeValidationè¿›è¡ŒéªŒè¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; extend, ValidationProvider, ValidationObserver &#125; <span class="keyword">from</span> <span class="string">"vee-validate"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; required &#125; <span class="keyword">from</span> <span class="string">"vee-validate/dist/rules"</span>;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section <span class="class"><span class="keyword">class</span></span>=<span class="string">"section"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"columns is-mobile"</span>&gt;</span><br><span class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"field"</span>&gt;</span><br><span class="line">        &lt;label <span class="class"><span class="keyword">class</span></span>=<span class="string">"label"</span>&gt;ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚©ãƒ¼ãƒ &lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">          &lt;div class="control"&gt;</span></span><br><span class="line"><span class="regexp">            &lt;validation-provider v-slot="&#123; errors &#125;" rules="required" name="ãƒ†ã‚­ã‚¹ãƒˆé …ç›®"&gt;</span></span><br><span class="line"><span class="regexp">             &lt;input v-model="textValue" class="input" type="text" placeholder="Text input" /</span>&gt;</span><br><span class="line">             &lt;p v-show=<span class="string">"errors.length"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"help is-danger"</span>&gt;</span><br><span class="line">               &#123;&#123; errors[<span class="number">0</span>] &#125;&#125;</span><br><span class="line">             &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">           &lt;/</span>validation-provider&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>section&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">import Card from '~/</span>components/Card<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default &#123;</span></span><br><span class="line"><span class="string">  name: '</span>HomePage<span class="string">',</span></span><br><span class="line"><span class="string">  data () &#123;</span></span><br><span class="line"><span class="string">    return &#123;</span></span><br><span class="line"><span class="string">      textValue: '</span><span class="string">'</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>å†™å‡ºæ¥æ˜¯è¿™æ ·å­:<br><img src="./1.png" style="width:300px"></p><hr><h3 id="3-æ‰€æœ‰çš„éªŒè¯é€šè¿‡ä¹‹å‰é™åˆ¶é€ä¿¡"><a href="#3-æ‰€æœ‰çš„éªŒè¯é€šè¿‡ä¹‹å‰é™åˆ¶é€ä¿¡" class="headerlink" title="3. æ‰€æœ‰çš„éªŒè¯é€šè¿‡ä¹‹å‰é™åˆ¶é€ä¿¡"></a>3. æ‰€æœ‰çš„éªŒè¯é€šè¿‡ä¹‹å‰é™åˆ¶é€ä¿¡</h3><p>å®é™…çš„è¡¨å•é‡Œæœ‰å¾ˆå¤šè¾“å…¥é¡¹ç›®ï¼Œå¯¹å„ä¸ªè¾“å…¥é¡¹è¿›è¡ŒéªŒè¯çš„è¯ï¼Œè¦ä½¿ç”¨<strong>ValidationObserver</strong>,è¿˜å¯ä»¥åˆ©ç”¨å®ƒä½¿æ‰€æœ‰çš„éªŒè¯é€šè¿‡ä¹‹å‰ï¼Œè®¾å®šé€ä¿¡æŒ‰é’®æ— æ•ˆã€‚<br>pages/form.vue</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section <span class="class"><span class="keyword">class</span></span>=<span class="string">"section"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"columns is-mobile"</span>&gt;</span><br><span class="line">      &lt;validation-observer v-slot=<span class="string">"&#123; invalid &#125;"</span>&gt;</span><br><span class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"field"</span>&gt;</span><br><span class="line">        &lt;label <span class="class"><span class="keyword">class</span></span>=<span class="string">"label"</span>&gt;ãŠåå‰&lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">          &lt;div class="control"&gt;</span></span><br><span class="line"><span class="regexp">            &lt;text-field-with-validation v-model="textValue" rules="required" fieldname="ãŠåå‰" /</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"field"</span>&gt;</span><br><span class="line">        &lt;label <span class="class"><span class="keyword">class</span></span>=<span class="string">"label"</span>&gt;ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹&lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">          &lt;div class="control"&gt;</span></span><br><span class="line"><span class="regexp">            &lt;text-field-with-validation v-model="emailValue" rules="required|email" fieldname="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" /</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"field"</span>&gt;</span><br><span class="line">          &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"control"</span>&gt;</span><br><span class="line">            &lt;button <span class="class"><span class="keyword">class</span></span>=<span class="string">"button is-link"</span> :disabled=<span class="string">"invalid"</span>&gt;é€ä¿¡ã™ã‚‹&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">            &lt;p v-show="invalid" class="help is-danger"&gt;</span></span><br><span class="line"><span class="regexp">             å…¨ã¦ã®å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€Œæ–°è¦è¿½åŠ ã€ãƒœã‚¿ãƒ³ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚</span></span><br><span class="line"><span class="regexp">            &lt;/</span>p&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/validation-observer&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/section&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> TextFieldWithValidation <span class="keyword">from</span> <span class="string">'@/components/TextFieldWithValidation'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'HomePage'</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    TextFieldWithValidation</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      textValue: <span class="string">''</span>,</span><br><span class="line">      emailValue: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>é‡è¦çš„pointæ˜¯ï¼š<br>åœ¨<strong><validation-observer v-slot="{ invalid }"></validation-observer></strong>å’Œ<strong></strong>ä¹‹é—´çš„è¡¨å•é¡¹ç›®éƒ½åœ¨VeeValidationçš„ç›‘è§†ä¸‹ï¼Œ<br>å¦‚æœæœ‰æ²¡æœ‰é€šè¿‡éªŒè¯çš„é¡¹ç›®çš„è¯<strong>invalid</strong>ä¸ºtrue,ç»™æäº¤æŒ‰é’®åŠ ä¸Š<strong>:disabled=â€invalidâ€</strong>é™åˆ¶çš„è¯å°±å¯è®¾ç½®æˆæ— æ•ˆçŠ¶æ€äº†ã€‚</p><p>å¦å¤–åƒé‚®ä»¶åœ°å€çš„è¡¨å•çš„è¯ï¼Œ<strong>rules=â€required|emailâ€</strong>åœ¨è¿™é‡Œå°±æ˜¯åŠ äº†ä¸¤ä¸ªè§„åˆ™<strong>requiredï¼ˆå¿…å¡«éªŒè¯ï¼‰</strong>å’Œ<strong>emailï¼ˆé‚®ä»¶æ ¼å¼éªŒè¯ï¼‰</strong>ï¼Œ<br>åƒè¿™æ ·ç”¨<strong>|</strong>éš”å¼€çš„è¯å°±å¯ä»¥è®¾å®šå¤æ•°çš„è§„åˆ™ã€‚</p><hr><h3 id="é€ä¿¡æ—¶é¦–å…ˆè¿›è¡Œè¡¨å•å…¨ä½“éªŒè¯"><a href="#é€ä¿¡æ—¶é¦–å…ˆè¿›è¡Œè¡¨å•å…¨ä½“éªŒè¯" class="headerlink" title="é€ä¿¡æ—¶é¦–å…ˆè¿›è¡Œè¡¨å•å…¨ä½“éªŒè¯"></a>é€ä¿¡æ—¶é¦–å…ˆè¿›è¡Œè¡¨å•å…¨ä½“éªŒè¯</h3><p>åœ¨éªŒè¯æ²¡æœ‰å…¨é€šè¿‡çš„æ—¶å€™ï¼Œæƒ³è‡ªè¡Œå®šä¹‰æ“ä½œå¤„ç†çš„è¯ï¼Œä½¿ç”¨<strong>this.$refs.observer.validate()</strong>æ¥è¿›è¡Œè¡¨å•çš„å†æ¬¡éªŒè¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;validation-observer ref=<span class="string">"observer"</span> v-slot=<span class="string">"&#123; invalid &#125;"</span> tag=<span class="string">"form"</span> @submit.prevent=<span class="string">"submit()"</span>&gt;</span><br><span class="line">      &lt;text-field-<span class="keyword">with</span>-validation rules=<span class="string">"required"</span> v-model=<span class="string">"first"</span> /&gt;</span><br><span class="line"></span><br><span class="line">      &lt;text-field-<span class="keyword">with</span>-validation rules=<span class="string">"required"</span> v-model=<span class="string">"second"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;button :disabled=<span class="string">"invalid"</span>&gt;Submit&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>validation-observer&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    async submit () &#123;</span></span><br><span class="line"><span class="regexp">      const isValid = await this.$refs.observer.validate();</span></span><br><span class="line"><span class="regexp">      if (!isValid) &#123;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒé€šã‚‹å‰ã«é€ä¿¡ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´åˆã®å‡¦ç†</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">       /</span><span class="regexp">/ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒé€šã£ã¦ã„ã‚‹çŠ¶æ…‹ã§é€ä¿¡ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´åˆã®å‡¦ç†</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Vueçš„è¡¨å•éªŒè¯ç»„ä»¶ VeeValidation&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="Vue" scheme="https://kisky3.github.io/tags/Vue/"/>
    
      <category term="Validation" scheme="https://kisky3.github.io/tags/Validation/"/>
    
      <category term="VeeValidation" scheme="https://kisky3.github.io/tags/VeeValidation/"/>
    
      <category term="ValidationObserver" scheme="https://kisky3.github.io/tags/ValidationObserver/"/>
    
      <category term="ValidationProvider" scheme="https://kisky3.github.io/tags/ValidationProvider/"/>
    
  </entry>
  
  <entry>
    <title>Setting Vuex Namespace</title>
    <link href="https://kisky3.github.io/2020/01/30/VueNameSpace/"/>
    <id>https://kisky3.github.io/2020/01/30/VueNameSpace/</id>
    <published>2020-01-30T07:23:41.000Z</published>
    <updated>2020-07-12T08:09:56.455Z</updated>
    
    <content type="html"><![CDATA[<p>Vuexå‘½åç©ºé—´çš„è®¾å®š</p><a id="more"></a><p>Vuex 2.1å¼€å§‹Storeçš„moduleåˆ’åˆ†å°±å˜å¾—ç®€å•äº†ï¼Œè¿½åŠ <strong>namespace:true</strong>å°±å¯ä»¥è‡ªåŠ¨åˆ’åˆ†å‘½åç©ºé—´äº†ã€‚</p><p>è¿½åŠ äº†è¿™ä¸ªé€‰é¡¹ä¹‹åï¼Œ<strong>state</strong>ï¼Œ<strong>getters</strong>ï¼Œ<strong>actions</strong>ï¼Œ<strong>mutations</strong>å°±ä¼šè‡ªåŠ¨åœ°è¢«åˆ’åˆ†åˆ°å’Œè‡ªå·±æ‰€å±çš„moduleåï¼ˆä¸‹é¢çš„ä¾‹å­é‡Œmoduleåå°±æ˜¯helloModuleï¼‰åŒåçš„å‘½åç©ºé—´é‡Œã€‚</p><p>modules/hello/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> helloModule = &#123;</span><br><span class="line">  namespaced: <span class="literal">true</span>, <span class="comment">// è¿½åŠ </span></span><br><span class="line">  state: &#123;</span><br><span class="line">    hello: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="comment">// æ–¹æ³•å</span></span><br><span class="line">    hello(state) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.hello</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="comment">// æ–¹æ³•å</span></span><br><span class="line">    sayHello(context, payload) &#123;</span><br><span class="line">      api.sayHello()</span><br><span class="line">        .then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="comment">// æ–¹æ³•å</span></span><br><span class="line">    hello(state, payload) &#123;</span><br><span class="line">      state.hello = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘¼å‡ºçš„æ—¶å€™ã€ŒmapState/mapActionså‚æ•°ä¼ é€’å‘½åç©ºé—´ã€çš„å½¢å¼ä¹Ÿå¯ä»¥ã€‚<br>è¿˜å¯ä»¥ä½¿ç”¨æ˜ç¡®æŒ‡æ˜å‘½åç©ºé—´çš„å½¢å¼ã€‚</p><h3 id="å¼•ç”¨æ–¹ï¼šä½¿ç”¨å‚æ•°ä¼ é€’å‘½åç©ºé—´"><a href="#å¼•ç”¨æ–¹ï¼šä½¿ç”¨å‚æ•°ä¼ é€’å‘½åç©ºé—´" class="headerlink" title="å¼•ç”¨æ–¹ï¼šä½¿ç”¨å‚æ•°ä¼ é€’å‘½åç©ºé—´"></a>å¼•ç”¨æ–¹ï¼šä½¿ç”¨å‚æ•°ä¼ é€’å‘½åç©ºé—´</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(<span class="string">'helloModule'</span>, <span class="comment">// â† å‚æ•°ä¼ é€’å‘½åç©ºé—´</span></span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œstateå¹¶ä¸æ˜¯æ ¹stateã€è€Œæ˜¯è¢«è‡ªåŠ¨è¯†åˆ«ä¸ºhelloModule/stateçš„å‘½åç©ºé—´</span></span><br><span class="line">    &#123;  </span><br><span class="line">      hello: <span class="function"><span class="params">state</span> =&gt;</span> state.hello</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapActions(<span class="string">'helloModule'</span>, <span class="comment">//â† å‚æ•°ä¼ é€’å‘½åç©ºé—´</span></span><br><span class="line">    <span class="comment">// this.sayHello() æ˜¯ this.$store.dispatch('helloModule/sayHello')çš„æ˜ å°„</span></span><br><span class="line">    [<span class="string">'sayHello'</span>]</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="æ˜ç¡®æŒ‡å®šå‘½åç©ºé—´"><a href="#æ˜ç¡®æŒ‡å®šå‘½åç©ºé—´" class="headerlink" title="æ˜ç¡®æŒ‡å®šå‘½åç©ºé—´"></a>æ˜ç¡®æŒ‡å®šå‘½åç©ºé—´</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(&#123;</span><br><span class="line">    hello: <span class="function"><span class="params">state</span> =&gt;</span> state.helloModule.hello <span class="comment">// è¿™ä¸ªstateæ˜¯å…¨å±€storeã€‚</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapActions([</span><br><span class="line">    <span class="comment">// this.sayHello() æ˜¯this.$store.dispatch('helloModule/sayHello')çš„æ˜ å°„</span></span><br><span class="line">    <span class="string">'helloModule/sayHello'</span></span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Vuexå‘½åç©ºé—´çš„è®¾å®š&lt;/p&gt;
    
    </summary>
    
      <category term="Front-end Knowledge" scheme="https://kisky3.github.io/categories/Front-end-Knowledge/"/>
    
    
      <category term="Vue" scheme="https://kisky3.github.io/tags/Vue/"/>
    
      <category term="form" scheme="https://kisky3.github.io/tags/form/"/>
    
  </entry>
  
</feed>
